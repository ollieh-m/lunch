** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76004
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76004
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76018
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76018
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76039
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76039
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76062
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76062
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4634976020020558905);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateDelayedJobs (20170404210016)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class CreateDelayedJobs < ActiveRecord::Migration[4.2] (called from load at /Users/Ollie/.rbenv/versions/2.4.0/bin/rake:22)
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "delayed_jobs" ("id" serial primary key, "priority" integer DEFAULT 0 NOT NULL, "attempts" integer DEFAULT 0 NOT NULL, "handler" text NOT NULL, "last_error" text, "run_at" timestamp, "locked_at" timestamp, "failed_at" timestamp, "locked_by" character varying, "queue" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE  INDEX  "delayed_jobs_priority" ON "delayed_jobs"  ("priority", "run_at")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404210016"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-04-04 21:00:21 UTC], ["updated_at", 2017-04-04 21:00:21 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4634976020020558905)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76093
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76093
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76118
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76118
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76145
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76145
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76534
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76534
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76695
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76695
Started GET "/" for 127.0.0.1 at 2017-04-04 22:35:49 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-5.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-5.0.2/lib/rails/templates/rails/welcome/index.html.erb (4.5ms)
Completed 200 OK in 17ms (Views: 12.6ms | ActiveRecord: 0.0ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:35:50 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:35:50 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:35:50 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:36:15 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:36:15 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:36:15 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:36:45 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:36:45 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:36:45 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:37:15 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:37:15 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:37:15 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:37:42 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:37:42 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:37:42 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:38:07 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:38:07 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:38:07 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:38:37 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:38:37 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:38:37 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:39:01 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:39:01 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:39:01 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:39:30 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:39:30 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:39:30 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:39:59 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:39:59 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:39:59 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:40:26 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:40:26 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:40:26 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:40:53 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:40:53 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:40:53 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:41:19 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:41:19 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:41:19 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:41:47 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:41:47 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:41:47 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:42:14 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:42:14 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:42:14 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:42:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:42:40 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:42:40 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-04 22:43:09 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:43:09 +0100
Request origin not allowed: http://forward-frome.coherent.dev
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-04 22:43:09 +0100
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=76984
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=76984
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=77223
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=77223
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4634976020020558905);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSlackTeams (20170404215042)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.9ms)[0m  [1m[35mCREATE TABLE "slack_teams" ("id" serial primary key, "access_token" character varying, "team_name" character varying, "team_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404215042"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4634976020020558905)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=77273
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=77273
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=77309
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=77309
Started GET "/" for 127.0.0.1 at 2017-04-04 23:02:21 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (6.1ms)
  Rendered application/_flashes.html.erb (0.8ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (53.7ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (3761.0ms)
Completed 200 OK in 3769ms (Views: 3766.8ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:02:27 +0100
** [Honeybadger] Unable to send error report: API key is missing. id=a9e9f44e-e7dd-4478-9935-86c3de6b3e4e level=3 pid=77021
Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:03:36 +0100
Processing by SlackAuthenticationsController#show as HTML
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=77698
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=77698
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=77730
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=77730
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4634976020020558905);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSlackTeams (20170404215042)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.3ms)[0m  [1m[35mDROP TABLE "slack_teams"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20170404215042"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4634976020020558905)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=77790
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=77790
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4634976020020558905);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSlackTeams (20170404215042)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "slack_teams" ("id" serial primary key, "access_token" character varying, "team_name" character varying, "team_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_slack_teams_on_team_id" ON "slack_teams"  ("team_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404215042"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4634976020020558905)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:18:14 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SlackAuthenticationsController#show as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


** [Honeybadger] Unable to send error report: API key is missing. id=45f4d958-52fd-4407-97ac-432cf28af9b7 level=3 pid=77696
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=78023
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=78023
Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:18:28 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-santa.dev/slack_authentication/callback
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:19:52 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (2.7ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (23.0ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (316.8ms)
Completed 200 OK in 326ms (Views: 324.1ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:20:06 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:20:56 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:22:50 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=164260902179.163879468257.b1aa92957b&state=" for 127.0.0.1 at 2017-04-04 23:23:04 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.163879468257.b1aa92957b", "state"=>""}
Completed 500 Internal Server Error in 1152ms (ActiveRecord: 1.2ms)


** [Honeybadger] Unable to send error report: API key is missing. id=0c291ef8-a310-45d3-8a47-99ceea3c2c04 level=3 pid=78060
Started GET "/slack_authentication/callback?code=164260902179.164647606533.ae7a01bf4b&state=" for 127.0.0.1 at 2017-04-04 23:23:48 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.164647606533.ae7a01bf4b", "state"=>""}
Completed 500 Internal Server Error in 87609ms (ActiveRecord: 0.0ms)


** [Honeybadger] Unable to send error report: API key is missing. id=686a2ef6-7de5-4871-a92f-e3a1b2f056fd level=3 pid=78060
Started GET "/slack_authentication/callback?code=164260902179.164648304389.1bd62f1616&state=" for 127.0.0.1 at 2017-04-04 23:25:27 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.164648304389.1bd62f1616", "state"=>""}
  [1m[36mSlackTeam Load (3.7ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "slack_teams" ("access_token", "team_name", "team_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "xoxp-164260902179-164368393060-164596819172-6af6a738da295cbd2be33f978d6be809"], ["team_name", "Test"], ["team_id", "T4U7NSJ59"], ["created_at", 2017-04-04 22:25:27 UTC], ["updated_at", 2017-04-04 22:25:27 UTC]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 602ms (ActiveRecord: 7.1ms)


** [Honeybadger] Unable to send error report: API key is missing. id=8d999418-4c13-42d2-be58-e749c7974dee level=3 pid=78060
Started GET "/slack_authentication/callback?code=164260902179.164598039508.c25d0a3ffd&state=" for 127.0.0.1 at 2017-04-04 23:26:06 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.164598039508.c25d0a3ffd", "state"=>""}
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 54433ms (ActiveRecord: 0.9ms)


** [Honeybadger] Unable to send error report: API key is missing. id=1e43e311-f2a0-431a-8f51-85dac0a62da5 level=3 pid=78060
Started GET "/slack_authentication/callback?code=164260902179.163852741568.0e9932a940&state=" for 127.0.0.1 at 2017-04-04 23:27:11 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.163852741568.0e9932a940", "state"=>""}
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 55498ms (ActiveRecord: 0.9ms)


Started GET "/slack_authentication/callback?code=164260902179.164598796548.ab57c086f9&state=" for 127.0.0.1 at 2017-04-04 23:28:06 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.164598796548.ab57c086f9", "state"=>""}
** [Honeybadger] Unable to send error report: API key is missing. id=00b75fd3-de2b-41be-a6a0-83997611581d level=3 pid=78060
  [1m[36mSlackTeam Load (1.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 7319ms (ActiveRecord: 1.8ms)


** [Honeybadger] Unable to send error report: API key is missing. id=30c7c0d3-e1c6-4a72-8e59-da958c9a80af level=3 pid=78060
Started GET "/slack_authentication/callback?code=164260902179.165252170071.1392e8e474&state=" for 127.0.0.1 at 2017-04-04 23:28:34 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.165252170071.1392e8e474", "state"=>""}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 509ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:28:35 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.6ms)
  Rendered application/_flashes.html.erb (1.1ms)
  Rendered application/_analytics.html.erb (0.8ms)
  Rendered application/_javascript.html.erb (21.1ms)
  Rendered application/_css_overrides.html.erb (0.7ms)
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 63ms (Views: 61.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:31:32 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.9ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (24.7ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (58.3ms)
Completed 200 OK in 64ms (Views: 62.9ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=164260902179.165253415863.971c771587&state=" for 127.0.0.1 at 2017-04-04 23:31:47 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.165253415863.971c771587", "state"=>""}
  [1m[36mSlackTeam Load (0.7ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 980ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:31:48 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (1.0ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (13.9ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (40.6ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:32:54 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (11.6ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (35.9ms)
Completed 200 OK in 41ms (Views: 39.5ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:32:55 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=164260902179.165243143878.c442fa02c1&state=" for 127.0.0.1 at 2017-04-04 23:33:00 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.165243143878.c442fa02c1", "state"=>""}
  [1m[36mSlackTeam Load (0.6ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "slack_teams" SET "access_token" = $1, "updated_at" = $2 WHERE "slack_teams"."id" = $3[0m  [["access_token", "xoxp-164260902179-164368393060-164493500707-3a6cd685c3111d2a6015903d173c2b4a"], ["updated_at", 2017-04-04 22:33:01 UTC], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 722ms (ActiveRecord: 3.3ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:33:01 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.8ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.7ms)
  Rendered application/_javascript.html.erb (11.2ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 37ms (Views: 35.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:36:34 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.4ms)
  Rendered application/_flashes.html.erb (0.4ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (14.5ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (34.1ms)
Completed 200 OK in 40ms (Views: 38.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:37:32 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.4ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (11.1ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (30.4ms)
Completed 200 OK in 35ms (Views: 33.7ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=164260902179.163885414689.6529f87064&state=" for 127.0.0.1 at 2017-04-04 23:37:38 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.163885414689.6529f87064", "state"=>""}
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "slack_teams" SET "access_token" = $1, "updated_at" = $2 WHERE "slack_teams"."id" = $3[0m  [["access_token", "xoxp-164260902179-164368393060-164562909202-5a87b8e30131900493cd289e65cca95a"], ["updated_at", 2017-04-04 22:37:38 UTC], ["id", 1]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 652ms (ActiveRecord: 7.2ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:37:38 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (11.6ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (29.5ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:39:37 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.4ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.8ms)
  Rendered application/_javascript.html.erb (15.2ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (35.3ms)
Completed 200 OK in 40ms (Views: 38.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:41:26 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (257.0ms)
  Rendered layouts/application.html.erb (258.8ms)
Completed 500 Internal Server Error in 263ms (ActiveRecord: 0.0ms)


** [Honeybadger] Unable to send error report: API key is missing. id=c63f58b1-6f5c-4056-8d06-ea2b9ede0514 level=3 pid=78060
Started GET "/" for 127.0.0.1 at 2017-04-04 23:41:51 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (11.4ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (28.0ms)
Completed 200 OK in 32ms (Views: 31.0ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:41:53 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=commands,chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=164260902179.164496924131.d2bcbfc2a4&state=" for 127.0.0.1 at 2017-04-04 23:41:58 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.164496924131.d2bcbfc2a4", "state"=>""}
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "slack_teams" SET "access_token" = $1, "updated_at" = $2 WHERE "slack_teams"."id" = $3[0m  [["access_token", "xoxp-164260902179-164368393060-163887029649-d876df8b32e947ebf35a5e572bb51c03"], ["updated_at", 2017-04-04 22:41:59 UTC], ["id", 1]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 642ms (ActiveRecord: 7.1ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:41:59 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.6ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (12.3ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (34.0ms)
Completed 200 OK in 39ms (Views: 37.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:42:38 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (10.8ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 36ms (Views: 34.4ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:42:39 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=commands,chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=165215766374.164564826322.63e17d8fa1&state=" for 127.0.0.1 at 2017-04-04 23:42:43 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"165215766374.164564826322.63e17d8fa1", "state"=>""}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4V6BNJB0"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "slack_teams" ("access_token", "team_name", "team_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "xoxp-165215766374-165226545399-165257689847-d6d5cda422970663c6e0d8f46a39684f"], ["team_name", "Banta Clause"], ["team_id", "T4V6BNJB0"], ["created_at", 2017-04-04 22:42:44 UTC], ["updated_at", 2017-04-04 22:42:44 UTC]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 977ms (ActiveRecord: 10.2ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:42:44 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.6ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (14.4ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (34.6ms)
Completed 200 OK in 40ms (Views: 38.3ms | ActiveRecord: 0.0ms)


Started POST "/bantaclause" for 52.91.184.228 at 2017-04-04 23:45:17 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=39f28866-f3e7-463d-9fa1-69b95d533704 level=3 pid=78060
Started POST "/bantaclause" for 54.209.231.248 at 2017-04-04 23:45:28 +0100
Cannot render console from 54.209.231.248! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=815a1a95-5e2c-4444-bf3f-7197d2ff8a28 level=3 pid=78060
Started POST "/bantaclause" for 52.54.222.230 at 2017-04-04 23:47:30 +0100
Cannot render console from 52.54.222.230! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=d90265ec-de30-457b-8342-c7cfb27b594a level=3 pid=78060
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=78524
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=78524
Started POST "/bantaclause" for 54.174.33.17 at 2017-04-04 23:48:46 +0100
Cannot render console from 54.174.33.17! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4V6BNJB0", "team_domain"=>"bantaclause", "channel_id"=>"D4V6NG563", "channel_name"=>"directmessage", "user_id"=>"U4V6NG1BR", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4V6BNJB0/163861284480/NZifziv2zEKHoaJG8szycF5W"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms)


** [Honeybadger] Unable to send error report: API key is missing. id=a13fce49-b1a7-4e73-b91c-3921b7db2508 level=3 pid=78060
Started POST "/bantaclause" for 52.90.33.223 at 2017-04-04 23:49:51 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4V6BNJB0", "team_domain"=>"bantaclause", "channel_id"=>"D4V6NG563", "channel_name"=>"directmessage", "user_id"=>"U4V6NG1BR", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4V6BNJB0/164500022755/J0GgqDsLRKCm9WLEUpBhZpq7"}
Started POST "/bantaclause" for 54.89.92.4 at 2017-04-04 23:51:49 +0100
Cannot render console from 54.89.92.4! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4V6BNJB0", "team_domain"=>"bantaclause", "channel_id"=>"D4V6NG563", "channel_name"=>"directmessage", "user_id"=>"U4V6NG1BR", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4V6BNJB0/165261154167/0zy5keBPcNQtgdSXFhJut5gj"}
Can't verify CSRF token authenticity.
No template found for BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 8050ms (ActiveRecord: 0.0ms)


Started POST "/bantaclause" for 52.54.222.230 at 2017-04-04 23:52:04 +0100
Cannot render console from 52.54.222.230! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4V6BNJB0", "team_domain"=>"bantaclause", "channel_id"=>"D4V6NG563", "channel_name"=>"directmessage", "user_id"=>"U4V6NG1BR", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4V6BNJB0/163862470496/8zkyZmP1eDPo7J0VmjOKZKKV"}
Can't verify CSRF token authenticity.
No template found for BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 3668ms (ActiveRecord: 0.0ms)


Started POST "/bantaclause" for 54.89.92.4 at 2017-04-04 23:52:10 +0100
Cannot render console from 54.89.92.4! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4V6BNJB0", "team_domain"=>"bantaclause", "channel_id"=>"D4V6NG563", "channel_name"=>"directmessage", "user_id"=>"U4V6NG1BR", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4V6BNJB0/164658714805/7W5kaYINHVF39J8iW2XgTaY6"}
Can't verify CSRF token authenticity.
Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-04 23:54:52 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Unable to send error report: API key is missing. id=5262f2ba-90d1-496e-8e95-518d23b374ed level=3 pid=78640
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=78821
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=78821
Started GET "/" for 127.0.0.1 at 2017-04-04 23:57:38 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (6.8ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (28.9ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (218.8ms)
Completed 200 OK in 227ms (Views: 225.8ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:57:40 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=commands,chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-04 23:57:48 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=f29dd772-6e6b-464f-80e6-78fcb3069915 level=3 pid=78640
Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-04 23:58:11 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=commands,chat:write:bot&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=164260902179.164610541332.13ffd36784&state=" for 127.0.0.1 at 2017-04-04 23:58:25 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.164610541332.13ffd36784", "state"=>""}
  [1m[36mSlackTeam Load (0.9ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 1233ms (ActiveRecord: 5.1ms)


Started GET "/" for 127.0.0.1 at 2017-04-04 23:58:26 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (11.7ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (29.3ms)
Completed 200 OK in 33ms (Views: 32.1ms | ActiveRecord: 0.0ms)


Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-04 23:58:36 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=984ecce7-8d30-4b5c-9706-2897bcd84dbb level=3 pid=78640
Started POST "/api/bantaclause" for 54.174.114.150 at 2017-04-04 23:59:12 +0100
Cannot render console from 54.174.114.150! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=82226f6e-3276-4532-9bc7-e2833bc5b8c5 level=3 pid=78640
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=78918
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=78918
Started POST "/api/bantaclause" for 54.174.33.17 at 2017-04-05 00:02:02 +0100
Cannot render console from 54.174.33.17! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=b9144c38-0fe1-48e4-8ab8-b8fcac0017f9 level=3 pid=78640
Started POST "/api/bantaclause" for 54.209.231.248 at 2017-04-05 00:02:35 +0100
Cannot render console from 54.209.231.248! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=f1b3cc1c-0779-4b15-9ce0-4b43716d84ed level=3 pid=78640
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 00:03:48 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=7f458dd4-b117-483e-a34e-727cf0657519 level=3 pid=78640
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 00:04:54 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
** [Honeybadger] Unable to send error report: API key is missing. id=3b4c1b6a-2581-4fef-9c8e-b0ea45bcab0a level=3 pid=78640
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=79153
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=79153
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 00:06:41 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"C4TJAJJTS", "channel_name"=>"general", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164613650052/1ZfkfeYONdu9uWQ6PfEGM7WG"}
Can't verify CSRF token authenticity.
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 35500ms (ActiveRecord: 0.0ms)


** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=86850
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=86850
Started POST "/api/bantaclause" for 52.90.121.46 at 2017-04-05 19:18:49 +0100
Cannot render console from 52.90.121.46! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"C4TJAJJTS", "channel_name"=>"general", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164381165985/OSkfwFRE9LXpxXEyneMB6CN7"}
Can't verify CSRF token authenticity.
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:19:47 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:19:47 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:19:48 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:19:48 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:19:48 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:19:48 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:19:48 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:19:48 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-05 19:28:16 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164387578673/ujaGqjnVkk4SvTTlJVwUOOof"}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


** [Honeybadger] Unable to send error report: API key is missing. id=91397b15-c937-46d8-b1fe-9c75dc525302 level=3 pid=87040
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:28:26 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:28:26 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 52.54.222.230 at 2017-04-05 19:28:39 +0100
Cannot render console from 52.54.222.230! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165104902004/OYwH4FivkeFrti9M8q111UGP"}
Can't verify CSRF token authenticity.
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:29:39 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:29:39 +0100
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 52.90.146.42 at 2017-04-05 19:30:10 +0100
Cannot render console from 52.90.146.42! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165748194790/lIMoVj9ifohZGzAkdPa7nyzi"}
Can't verify CSRF token authenticity.
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:31:10 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:31:10 +0100
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 54.165.241.61 at 2017-04-05 19:37:09 +0100
Cannot render console from 54.165.241.61! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165070912450/2VWL4w7sOiLhDXSWtCGyEw6S"}
Can't verify CSRF token authenticity.
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:38:06 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:38:06 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:06 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:06 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:38:07 +0100
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 52.90.121.46 at 2017-04-05 19:50:24 +0100
Cannot render console from 52.90.121.46! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165772799095/uGlPWkjkYy5t0VXxNqu0eQ0q"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (13.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 109ms (ActiveRecord: 29.9ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:50:35 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:50:35 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 54.89.92.4 at 2017-04-05 19:50:57 +0100
Cannot render console from 54.89.92.4! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165012833907/EfpYqhUXMwB6WSXaAtJhUvZk"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 74ms (ActiveRecord: 3.3ms)


Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:51:07 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:51:07 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NotificationsChannel"
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=87459
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=87459
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:51:20 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:51:21 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 52.54.222.230 at 2017-04-05 19:51:27 +0100
Cannot render console from 52.54.222.230! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164374868272/VRSZj2ofUI2ucKZXX9HQZP1t"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.6ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 894ms (ActiveRecord: 4.1ms)


** [Honeybadger] Unable to send error report: API key is missing. id=9c1c1446-559f-46dd-9cc3-ef6a5d3a05bf level=3 pid=87496
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:51:34 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:51:34 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 54.174.33.17 at 2017-04-05 19:51:58 +0100
Cannot render console from 54.174.33.17! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164375119568/FUrUVkwmUhND82ObNlJTLuyH"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:52:46 +0100
Completed 500 Internal Server Error in 101801ms (ActiveRecord: 2.5ms)


** [Honeybadger] Unable to send error report: API key is missing. id=ee7b3d6a-0be2-4d72-8ba5-cea194742201 level=3 pid=87496
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:53:40 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 19:53:45 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164404882305/CWjcXw6BxoVRdEy2KC2QiZP5"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:53:55 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:54:56 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:54:56 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Started GET "/cable" for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2017-04-05 19:54:57 +0100
Subscription class not found: "NotificationsChannel"
Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-05 19:55:24 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165083448930/dLbVdjfEMBPtZgd4risCXYXR"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.6ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=87724
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=87724
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=88269
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=88269
Started GET "/" for 127.0.0.1 at 2017-04-05 20:05:36 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (6.2ms)
  Rendered application/_flashes.html.erb (0.8ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (27.0ms)
  Rendered application/_css_overrides.html.erb (0.6ms)
  Rendered layouts/application.html.erb (327.5ms)
Completed 200 OK in 337ms (Views: 335.0ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-05 20:06:24 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=commands,chat:write:bot,users:read&client_id=165215766374.164534587746&redirect_uri=http://localhost:3000/slack_authentication/callback
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-04-05 20:06:34 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (14.5ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 40ms (Views: 37.1ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-04-05 20:06:36 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=commands,chat:write:bot,users:read&client_id=165215766374.164534587746&redirect_uri=http://secret-banta.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=164260902179.165181744997.ab6fd79a0f&state=" for 127.0.0.1 at 2017-04-05 20:07:41 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"164260902179.165181744997.ab6fd79a0f", "state"=>""}
  [1m[36mSlackTeam Load (0.8ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
  [1m[35m (5.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.1ms)[0m  [1m[33mUPDATE "slack_teams" SET "access_token" = $1, "updated_at" = $2 WHERE "slack_teams"."id" = $3[0m  [["access_token", "xoxp-164260902179-165744068726-165784517527-f0ec0890f72eb017488c3ffd5d7dec8a"], ["updated_at", 2017-04-05 19:07:42 UTC], ["id", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://secret-banta.dev/
Completed 302 Found in 978ms (ActiveRecord: 17.3ms)


Started GET "/" for 127.0.0.1 at 2017-04-05 20:07:42 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (12.2ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 36ms (Views: 34.5ms | ActiveRecord: 0.0ms)


Started POST "/api/bantaclause" for 52.90.146.42 at 2017-04-05 20:10:14 +0100
Cannot render console from 52.90.146.42! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165093361810/bdfkHdUD1ul7q8CLOO6Xgm5h"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 20:11:51 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"test", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165776388150/EgA2tiSiLE3q7AdYafaCXDBV"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.8ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 52.90.121.46 at 2017-04-05 20:12:23 +0100
Cannot render console from 52.90.121.46! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Completed 500 Internal Server Error in 32583ms (ActiveRecord: 4.6ms)


** [Honeybadger] Unable to send error report: API key is missing. id=89f4460e-a1b2-401c-8502-5abc6dfedd51 level=3 pid=88401
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"<@U4V4FMX29|rudolph>", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165027209955/qxaGrciO9QTdduyPZjHlFs36"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 20:14:42 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165028660371/0zWLURiWhRZJJXYn8c8OBcgc"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (1.0ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-05 20:16:53 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165187996581/p35vVDwcIIOjI9axZ93aPMDA"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.9ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 20:31:15 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165146316260/fQlZ1p9uNS7loi72M5IWp7fp"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.7ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 54.89.92.4 at 2017-04-05 20:36:39 +0100
Cannot render console from 54.89.92.4! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164404058944/ugz2ZoHe9aoV8RM3xXgSDmEK"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.7ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 213ms (ActiveRecord: 3.7ms)


** [Honeybadger] Unable to send error report: API key is missing. id=1c349a5a-43e7-4716-a24c-977e32d1f12e level=3 pid=88675
Started POST "/api/bantaclause" for 54.209.231.248 at 2017-04-05 21:39:32 +0100
Cannot render console from 54.209.231.248! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165188400644/2YEOlztiebcjmrtRMPeS7bNx"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 487ms (ActiveRecord: 2.7ms)


** [Honeybadger] Unable to send error report: API key is missing. id=abca23c3-6e6c-4354-8a9b-c91eb67133e7 level=3 pid=88675
Started POST "/api/bantaclause" for 52.54.222.230 at 2017-04-05 21:40:16 +0100
Cannot render console from 52.54.222.230! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164471777041/4O9xUOFQJalwnmc80MqUW3ig"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 54.209.231.248 at 2017-04-05 21:41:54 +0100
Cannot render console from 54.209.231.248! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165189772484/thVESQJBwmOP2VebjdG7ff5m"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (1.1ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 11566ms (ActiveRecord: 4.2ms)


Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 21:42:41 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164444718848/3VhdPXST3aYMw2z1hDSTD00H"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 1740ms (ActiveRecord: 2.9ms)


Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 21:43:24 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165241597829/6dbVdVnyqZKVcWNEwoyH8wmu"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-05 21:44:15 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 52003ms (ActiveRecord: 2.4ms)


Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165084000083/afCzka8iRa1Yak38pgsuWOIx"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 419ms (ActiveRecord: 2.9ms)


** [Honeybadger] Unable to send error report: API key is missing. id=b5e58f1e-5a3a-4f0d-bb95-da981ed3a85c level=3 pid=89898
Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 21:44:23 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164445839680/iPZtb0RD15NHodE7SmQMBK5a"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
Started POST "/api/bantaclause" for 52.90.121.46 at 2017-04-05 21:46:50 +0100
Cannot render console from 52.90.121.46! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164475766929/lWprWyVvFfds4AbzIugiimzO"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.9ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 2021ms (ActiveRecord: 5.0ms)


Started POST "/api/bantaclause" for 52.90.33.223 at 2017-04-05 21:48:06 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164447956752/mK2M87p8tg2wdR65tY13HfW1"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 1710ms (ActiveRecord: 3.1ms)


Started POST "/api/bantaclause" for 54.209.231.248 at 2017-04-05 21:48:58 +0100
Cannot render console from 54.209.231.248! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165836402614/QmQMpKJax41c8FpBNRQgBaLK"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 1385ms (ActiveRecord: 2.6ms)


Started POST "/api/bantaclause" for 54.209.231.248 at 2017-04-05 21:49:15 +0100
Cannot render console from 54.209.231.248! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164477224689/GGthNyCtUyhM4LS3gBYEh6tl"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 2039ms (ActiveRecord: 0.4ms)


Started POST "/api/bantaclause" for 52.91.184.228 at 2017-04-05 21:50:14 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/164477776193/gMfouDdlTXaq26hZKxmcVTxE"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 2480ms (ActiveRecord: 2.9ms)


Started POST "/api/bantaclause" for 54.174.33.17 at 2017-04-05 21:50:34 +0100
Cannot render console from 54.174.33.17! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165837414774/uALWUW87vdGw6MNS9p7iSy2T"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 1998ms (ActiveRecord: 0.5ms)


Started POST "/api/bantaclause" for 52.90.146.42 at 2017-04-05 22:14:52 +0100
Cannot render console from 52.90.146.42! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4TK53W2D", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165209171284/TcHCek14ykMPvW7sNdkkHIWZ"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 1362ms (ActiveRecord: 3.3ms)


** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=90793
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=90793
Started POST "/api/bantaclause" for 54.209.231.248 at 2017-04-06 09:04:34 +0100
Cannot render console from 54.209.231.248! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Api::V1::BantaclausesController#create as */*
  Parameters: {"ssl_check"=>"1"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 88ms (ActiveRecord: 1.4ms)


Started POST "/api/bantaclause" for 54.174.114.150 at 2017-04-06 09:04:57 +0100
Cannot render console from 54.174.114.150! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4V0MA687", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165359791282/ZuEDl483tjKPn1ZL8D9ivaWR"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (6.1ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 1729ms (ActiveRecord: 20.4ms)


Started POST "/api/bantaclause" for 52.54.222.230 at 2017-04-06 09:05:07 +0100
Cannot render console from 52.54.222.230! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::BantaclausesController#create as HTML
  Parameters: {"token"=>"mIw3U2oxMVcNPc2hkbXhZFeV", "team_id"=>"T4U7NSJ59", "team_domain"=>"test-simpleweb", "channel_id"=>"D4V0MA687", "channel_name"=>"directmessage", "user_id"=>"U4UAUBK1S", "user_name"=>"ollie", "command"=>"/secret-banta", "text"=>"", "response_url"=>"https://hooks.slack.com/commands/T4U7NSJ59/165359840178/BkL81rSTMSHwbvxABy5UxLHo"}
Can't verify CSRF token authenticity.
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T4U7NSJ59"], ["LIMIT", 1]]
No template found for Api::V1::BantaclausesController#create, rendering head :no_content
Completed 204 No Content in 1941ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2017-04-06 09:10:24 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (7.1ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (26.0ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (243.7ms)
Completed 200 OK in 252ms (Views: 250.5ms | ActiveRecord: 0.0ms)


** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21023
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21023
DEPRECATION WARNING: You didn't set `secret_key_base`. Read the upgrade documentation to learn more about this new config option. (called from env_config at /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-5.0.2/lib/rails/application.rb:246)
DEPRECATION WARNING: You didn't set `secret_key_base`. Read the upgrade documentation to learn more about this new config option. (called from env_config at /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-5.0.2/lib/rails/application.rb:246)
DEPRECATION WARNING: You didn't set `secret_key_base`. Read the upgrade documentation to learn more about this new config option. (called from env_config at /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-5.0.2/lib/rails/application.rb:246)
DEPRECATION WARNING: You didn't set `secret_key_base`. Read the upgrade documentation to learn more about this new config option. (called from env_config at /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/railties-5.0.2/lib/rails/application.rb:246)
** [Honeybadger] Unable to send error report: API key is missing. id=246dd0e5-0ae8-480a-9c29-68b1e119efa0 level=3 pid=21061
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21219
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21219
Started GET "/" for 127.0.0.1 at 2017-08-25 21:27:51 +0100
  [1m[36mActiveRecord::SchemaMigration Load (20.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (6.1ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (26.4ms)
  Rendered application/_css_overrides.html.erb (0.7ms)
  Rendered layouts/application.html.erb (308.6ms)
Completed 200 OK in 318ms (Views: 315.9ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-08-25 21:27:54 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=commands,chat:write:bot,users:read&client_id=231983340082.231338247152&redirect_uri=http://127.0.0.1:3000/slack_authentication/callback
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21445
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21445
Started GET "/" for 127.0.0.1 at 2017-08-25 21:34:51 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.4ms)
  Rendered application/_flashes.html.erb (0.4ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (11.6ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (27.4ms)
Completed 200 OK in 32ms (Views: 30.6ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-08-25 21:34:54 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot,users:read&client_id=231983340082.231338247152&redirect_uri=http://lunch.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-08-25 21:35:34 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot,users:read&client_id=231983340082.231338247152&redirect_uri=http://lunch.dev/slack_authentication/callback
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=231983340082.231924959523.7993d3a544e941712302dbd139c3e045b83186e7c89309a20a4a0cd9ff218c65&state=" for 127.0.0.1 at 2017-08-25 21:35:56 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"231983340082.231924959523.7993d3a544e941712302dbd139c3e045b83186e7c89309a20a4a0cd9ff218c65", "state"=>""}
  [1m[36mSlackTeam Load (3.7ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T6TUXA02E"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "slack_teams" ("access_token", "team_name", "team_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "xoxp-231983340082-231908280003-231925088803-e67b279367c0b4fd6c38eef1ed8604d0"], ["team_name", "lunch-test"], ["team_id", "T6TUXA02E"], ["created_at", 2017-08-25 20:35:56 UTC], ["updated_at", 2017-08-25 20:35:56 UTC]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/
Completed 302 Found in 865ms (ActiveRecord: 33.7ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 21:35:56 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.6ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (14.4ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (33.8ms)
Completed 200 OK in 39ms (Views: 37.0ms | ActiveRecord: 0.0ms)


** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21616
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21616
  [1m[35m (25.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateDelayedJobs (20170404210016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class CreateDelayedJobs < ActiveRecord::Migration[4.2] (called from load at /Users/Ollie/.rbenv/versions/2.4.0/bin/rake:22)
  [1m[35m (28.3ms)[0m  [1m[35mCREATE TABLE "delayed_jobs" ("id" serial primary key, "priority" integer DEFAULT 0 NOT NULL, "attempts" integer DEFAULT 0 NOT NULL, "handler" text NOT NULL, "last_error" text, "run_at" timestamp, "locked_at" timestamp, "failed_at" timestamp, "locked_by" character varying, "queue" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "delayed_jobs_priority" ON "delayed_jobs"  ("priority", "run_at")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404210016"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSlackTeams (20170404215042)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "slack_teams" ("id" serial primary key, "access_token" character varying, "team_name" character varying, "team_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_slack_teams_on_team_id" ON "slack_teams"  ("team_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404215042"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-08-25 20:39:36 UTC], ["updated_at", 2017-08-25 20:39:36 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21665
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21665
Started GET "/" for 127.0.0.1 at 2017-08-25 21:39:55 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (5.9ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (24.0ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (308.6ms)
Completed 200 OK in 316ms (Views: 315.0ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-08-25 21:39:57 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot,users:read&client_id=231983340082.231338247152&redirect_uri=http://lunch.dev/slack_authentication/callback
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=231983340082.232062277284.3ec6003a1d67a84e182fbfb62fe76e8845452bcaa53cfa85937900c54f4717e6&state=" for 127.0.0.1 at 2017-08-25 21:40:03 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"231983340082.232062277284.3ec6003a1d67a84e182fbfb62fe76e8845452bcaa53cfa85937900c54f4717e6", "state"=>""}
  [1m[36mSlackTeam Load (13.1ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T6TUXA02E"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "slack_teams" ("access_token", "team_name", "team_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "xoxp-231983340082-231908280003-231925088803-e67b279367c0b4fd6c38eef1ed8604d0"], ["team_name", "lunch-test"], ["team_id", "T6TUXA02E"], ["created_at", 2017-08-25 20:40:03 UTC], ["updated_at", 2017-08-25 20:40:03 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/
Completed 302 Found in 549ms (ActiveRecord: 17.8ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 21:40:03 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.6ms)
  Rendered application/_flashes.html.erb (0.4ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (11.1ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (27.4ms)
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.0ms)


** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21758
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21758
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21817
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21817
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=21949
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=21949
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMenus (20170825204539)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.6ms)[0m  [1m[35mCREATE TABLE "menus" ("id" serial primary key, "date" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170825204539"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOptions (20170825204618)
  [1m[35m (5.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE TABLE "options" ("id" serial primary key, "menu_id" integer, "meal_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fa92926db4"
FOREIGN KEY ("menu_id")
  REFERENCES "menus" ("id")
, CONSTRAINT "fk_rails_cf53294465"
FOREIGN KEY ("meal_id")
  REFERENCES "meals" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
** [Honeybadger] Unable to send error report: API key is missing. id=a2d9e610-9b26-4b69-a078-3d7fc145cd10 level=3 pid=21949
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22005
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22005
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (7919.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lunch_development"[0m
** [Honeybadger] Unable to send error report: API key is missing. id=49a6dcf4-5b34-4f69-8e57-c1120c762ee2 level=3 pid=22005
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22055
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22055
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (8315.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lunch_development"[0m
** [Honeybadger] Unable to send error report: API key is missing. id=09fcccf2-9fe9-4a9b-b73d-c6caed60f787 level=3 pid=22055
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22100
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (195.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lunch_development"[0m
  [1m[35m (182.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lunch_test"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22190
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22190
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateDelayedJobs (20170404210016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class CreateDelayedJobs < ActiveRecord::Migration[4.2] (called from load at /Users/Ollie/.rbenv/versions/2.4.0/bin/rake:22)
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "delayed_jobs" ("id" serial primary key, "priority" integer DEFAULT 0 NOT NULL, "attempts" integer DEFAULT 0 NOT NULL, "handler" text NOT NULL, "last_error" text, "run_at" timestamp, "locked_at" timestamp, "failed_at" timestamp, "locked_by" character varying, "queue" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE  INDEX  "delayed_jobs_priority" ON "delayed_jobs"  ("priority", "run_at")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404210016"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSlackTeams (20170404215042)
  [1m[35m (6.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "slack_teams" ("id" serial primary key, "access_token" character varying, "team_name" character varying, "team_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_slack_teams_on_team_id" ON "slack_teams"  ("team_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404215042"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMenus (20170825204539)
  [1m[35m (6.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "menus" ("id" serial primary key, "date" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "meals" ("id" serial primary key, "name" character varying, "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "options" ("id" serial primary key, "menu_id" integer, "meal_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fa92926db4"
FOREIGN KEY ("menu_id")
  REFERENCES "menus" ("id")
, CONSTRAINT "fk_rails_cf53294465"
FOREIGN KEY ("meal_id")
  REFERENCES "meals" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_options_on_menu_id" ON "options"  ("menu_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_options_on_meal_id" ON "options"  ("meal_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "slack_id" character varying, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "choices" ("id" serial primary key, "user_id" integer, "options_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_138b4f93cd"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_bc40e98f16"
FOREIGN KEY ("options_id")
  REFERENCES "options" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_choices_on_user_id" ON "choices"  ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_choices_on_options_id" ON "choices"  ("options_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170825204539"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-08-25 20:52:00 UTC], ["updated_at", 2017-08-25 20:52:00 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22236
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22236
Started GET "/" for 127.0.0.1 at 2017-08-25 21:52:56 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (7.4ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (25.0ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (302.5ms)
Completed 200 OK in 312ms (Views: 309.9ms | ActiveRecord: 0.0ms)


Started GET "/slack_authentication" for 127.0.0.1 at 2017-08-25 21:52:58 +0100
Processing by SlackAuthenticationsController#show as HTML
Redirected to https://slack.com/oauth/authorize?scope=chat:write:bot,users:read&client_id=231983340082.231338247152&redirect_uri=http://lunch.dev/slack_authentication/callback
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/slack_authentication/callback?code=231983340082.231357578608.1b1148fc44b9e7602f8b7acec3b13164bea00600221cedb7edb5c78ac9bcc5af&state=" for 127.0.0.1 at 2017-08-25 21:53:01 +0100
Processing by SlackAuthenticationsController#callback as HTML
  Parameters: {"code"=>"231983340082.231357578608.1b1148fc44b9e7602f8b7acec3b13164bea00600221cedb7edb5c78ac9bcc5af", "state"=>""}
  [1m[36mSlackTeam Load (11.7ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" WHERE "slack_teams"."team_id" = $1 LIMIT $2[0m  [["team_id", "T6TUXA02E"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "slack_teams" ("access_token", "team_name", "team_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "xoxp-231983340082-231908280003-231925088803-e67b279367c0b4fd6c38eef1ed8604d0"], ["team_name", "lunch-test"], ["team_id", "T6TUXA02E"], ["created_at", 2017-08-25 20:53:01 UTC], ["updated_at", 2017-08-25 20:53:01 UTC]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/
Completed 302 Found in 539ms (ActiveRecord: 17.5ms)


Started GET "/" for 127.0.0.1 at 2017-08-25 21:53:01 +0100
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (29.9ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 52ms (Views: 51.1ms | ActiveRecord: 0.0ms)


** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22367
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22367
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMenus (20170825204539)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.5ms)[0m  [1m[35mDROP TABLE "choices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "options"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "meals"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "menus"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20170825204539"]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22413
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22413
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMenus (20170825204539)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "menus" ("id" serial primary key, "date" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "meals" ("id" serial primary key, "name" character varying, "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "options" ("id" serial primary key, "menu_id" integer, "meal_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_fa92926db4"
FOREIGN KEY ("menu_id")
  REFERENCES "menus" ("id")
, CONSTRAINT "fk_rails_cf53294465"
FOREIGN KEY ("meal_id")
  REFERENCES "meals" ("id")
)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_options_on_menu_id" ON "options"  ("menu_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_options_on_meal_id" ON "options"  ("meal_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "slack_id" character varying, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "choices" ("id" serial primary key, "user_id" integer, "option_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_138b4f93cd"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_321f9e71d1"
FOREIGN KEY ("option_id")
  REFERENCES "options" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_choices_on_user_id" ON "choices"  ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX  "index_choices_on_option_id" ON "choices"  ("option_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170825204539"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22481
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22481
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22547
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22547
Started GET "/" for 127.0.0.1 at 2017-08-25 22:11:21 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DashboardController#show as HTML
  Rendering layouts/application.html.erb
  Rendering dashboard/show.html.erb within layouts/application
  Rendered dashboard/show.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (26.6ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (53.2ms)
Completed 200 OK in 65ms (Views: 57.9ms | ActiveRecord: 0.0ms)


Started GET "/menu" for 127.0.0.1 at 2017-08-25 22:11:30 +0100
** [Honeybadger] Unable to send error report: API key is missing. id=1d257146-de81-4b90-977e-531b49ac9baf level=3 pid=22272
Started GET "/menus" for 127.0.0.1 at 2017-08-25 22:11:34 +0100
** [Honeybadger] Unable to send error report: API key is missing. id=c0919a1d-d9d8-4289-a6b8-8a32a6a01b08 level=3 pid=22272
Started GET "/menus" for 127.0.0.1 at 2017-08-25 22:12:08 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  Rendered menus/index.html.erb within layouts/application (0.6ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.3ms)
  Rendered application/_javascript.html.erb (9.7ms)
  Rendered application/_css_overrides.html.erb (0.6ms)
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 36ms (Views: 34.5ms | ActiveRecord: 0.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:12:10 +0100
Processing by MenusController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


** [Honeybadger] Unable to send error report: API key is missing. id=1b2a624c-129c-442e-beb4-9e346fa0243b level=3 pid=22272
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22600
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22600
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:13:31 +0100
Processing by MenusController#new as HTML
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=22654
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=22654
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:14:35 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:14:49 +0100
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (45.9ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (28.5ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (302.7ms)
Completed 200 OK in 13793ms (Views: 311.4ms | ActiveRecord: 4.4ms)


Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (2.1ms)
  Rendered application/_flashes.html.erb (0.1ms)
  Rendered application/_analytics.html.erb (0.0ms)
  Rendered application/_javascript.html.erb (11.8ms)
  Rendered application/_css_overrides.html.erb (0.0ms)
  Rendered layouts/application.html.erb (29.9ms)
Completed 200 OK in 2958ms (Views: 33.4ms | ActiveRecord: 4.4ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:26:22 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (5.1ms)
  Rendered application/_flashes.html.erb (0.8ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (16.4ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 95ms (Views: 53.0ms | ActiveRecord: 3.8ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:32:21 +0100
Processing by MenusController#new as HTML
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)


** [Honeybadger] Unable to send error report: API key is missing. id=77ab37b4-fe2e-4309-9107-bb5fff493cbe level=3 pid=22797
** [Honeybadger] Initializing Honeybadger Error Tracker for Ruby. Ship it! version=3.1.0 framework=rails level=1 pid=23094
** [Honeybadger] Entering development mode: data will not be reported. level=2 pid=23094
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:35:13 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `prepopulate_option!' for MenuForm:Class):
  
app/forms/menu_form.rb:5:in `<class:MenuForm>'
app/forms/menu_form.rb:1:in `<top (required)>'
app/controllers/menus_controller.rb:4:in `new'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.4ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (12.4ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (89.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (92.3ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:39:14 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (27.2ms)
  Rendered application/_flashes.html.erb (1.1ms)
  Rendered application/_analytics.html.erb (1.0ms)
  Rendered application/_javascript.html.erb (38.3ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (289.6ms)
Completed 200 OK in 363ms (Views: 294.5ms | ActiveRecord: 5.9ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:39:59 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (3.3ms)
  Rendered application/_flashes.html.erb (0.4ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (10.0ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (30.9ms)
Completed 200 OK in 86ms (Views: 34.4ms | ActiveRecord: 3.4ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:40:46 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (3.4ms)
  Rendered application/_flashes.html.erb (0.4ms)
  Rendered application/_analytics.html.erb (0.3ms)
  Rendered application/_javascript.html.erb (9.5ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (30.1ms)
Completed 200 OK in 71ms (Views: 33.6ms | ActiveRecord: 4.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:40:58 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (4.1ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (13.9ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (39.6ms)
Completed 200 OK in 84ms (Views: 45.5ms | ActiveRecord: 3.7ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:44:21 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (8.4ms)
  Rendered application/_flashes.html.erb (0.9ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (15.5ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (50.3ms)
Completed 200 OK in 63ms (Views: 55.2ms | ActiveRecord: 0.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:45:02 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (3.9ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (12.6ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (37.3ms)
Completed 200 OK in 98ms (Views: 41.2ms | ActiveRecord: 8.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:45:23 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (55.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (22.6ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (319.1ms)
Completed 200 OK in 425ms (Views: 327.6ms | ActiveRecord: 7.3ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:45:37 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (3.3ms)
  Rendered application/_flashes.html.erb (0.4ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (12.6ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 75ms (Views: 37.0ms | ActiveRecord: 4.1ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddNotesToOption (20170825214931)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.1ms)[0m  [1m[35mALTER TABLE "options" ADD "notes" character varying[0m
  [1m[35mSQL (5.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170825214931"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:50:17 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (3.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (15.1ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (39.7ms)
Completed 200 OK in 82ms (Views: 44.1ms | ActiveRecord: 3.7ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:51:09 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (3.6ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (11.0ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (36.3ms)
Completed 200 OK in 81ms (Views: 39.8ms | ActiveRecord: 4.4ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:52:08 +0100
Processing by MenusController#new as HTML
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:53:19 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (42.9ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (28.6ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (278.1ms)
Completed 200 OK in 5144ms (Views: 286.4ms | ActiveRecord: 6.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:54:22 +0100
Processing by MenusController#new as HTML
Completed 500 Internal Server Error in 3771ms (ActiveRecord: 4.3ms)


  
NoMethodError (undefined method `prepopulate_meal!' for #<#<Class:0x007f982ba63950>:0x007f982ad25fb8>
Did you mean?  prepopulate!
               prepopulate_local!
               prepopulate_nested!):
  
app/controllers/menus_controller.rb:5:in `new'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (76.3ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (78.9ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:55:26 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (5.3ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (16.0ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (42.7ms)
Completed 200 OK in 3871ms (Views: 47.0ms | ActiveRecord: 4.7ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:56:42 +0100
Processing by MenusController#new as HTML
Completed 500 Internal Server Error in 3149ms (ActiveRecord: 4.8ms)


  
NoMethodError (undefined method `collect' for #<Option:0x007f982bb84320>):
  
app/forms/menu_form.rb:7:in `block in <class:MenuForm>'
app/controllers/menus_controller.rb:5:in `new'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (70.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (73.0ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 22:57:06 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (12.5ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (15.3ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (50.7ms)
Completed 200 OK in 3427ms (Views: 56.1ms | ActiveRecord: 7.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddNotesToOption (20170825214931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.8ms)[0m  [1m[35mALTER TABLE "options" DROP "notes"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20170825214931"]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 23:03:47 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (10.4ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (42.7ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (80.5ms)
Completed 200 OK in 140ms (Views: 86.5ms | ActiveRecord: 5.6ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 23:04:36 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/application.html.erb (3.0ms)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 6.9ms)


  
SyntaxError (/Users/Ollie/Documents/lunch/app/views/menus/new.html.erb:16: syntax error, unexpected ')', expecting &. or :: or '[' or '.'
nd=( f.submit, 'Create Menu' );@output_buffer.safe_append='
                              ^
/Users/Ollie/Documents/lunch/app/views/menus/new.html.erb:17: syntax error, unexpected keyword_end, expecting ')'
'.freeze; end 
             ^
/Users/Ollie/Documents/lunch/app/views/menus/new.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
                ^
/Users/Ollie/Documents/lunch/app/views/menus/new.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
          end
             ^):
  
app/views/menus/new.html.erb:16: syntax error, unexpected ')', expecting &. or :: or '[' or '.'
app/views/menus/new.html.erb:17: syntax error, unexpected keyword_end, expecting ')'
app/views/menus/new.html.erb:19: syntax error, unexpected keyword_ensure, expecting ')'
app/views/menus/new.html.erb:21: syntax error, unexpected keyword_end, expecting ')'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (77.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (80.0ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 23:05:08 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (18.8ms)
  Rendered layouts/application.html.erb (22.0ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `deep_stringify_keys' for "Create Menu":String):
    13:     <% end %>
    14:   <% end %>
    15: 
    16:   <%= f.submit :submit, 'Create Menu' %>
    17: <% end %>
  
app/views/menus/new.html.erb:16:in `block in _app_views_menus_new_html_erb__3957701912795305234_70145777354400'
app/views/menus/new.html.erb:1:in `_app_views_menus_new_html_erb__3957701912795305234_70145777354400'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (72.7ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 23:05:28 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (9.0ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (14.3ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (45.2ms)
Completed 200 OK in 53ms (Views: 49.8ms | ActiveRecord: 0.0ms)


Started POST "/menus" for 127.0.0.1 at 2017-08-25 23:07:31 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"r+CfH/F7Ow6tEPsczZKAj56WE+FTYqHPspyKfIfEwHAi8pR03oap0EBr23U6tS1XnkSaO6zoL7KztlfzTwc1tg==", "menu"=>{"date"=>"2017-08-25", "options_attributes"=>{"0"=>{"meal_attributes"=>{"name"=>"Sausages", "description"=>"Yummy"}}, "1"=>{"meal_attributes"=>{"name"=>"Soup", "description"=>"Yummy as well"}}}}, "commit"=>"Create Menu"}
Completed 500 Internal Server Error in 39ms (ActiveRecord: 4.8ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/menus_controller.rb:12:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (66.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (69.1ms)
Started POST "/menus" for 127.0.0.1 at 2017-08-25 23:08:14 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"r+CfH/F7Ow6tEPsczZKAj56WE+FTYqHPspyKfIfEwHAi8pR03oap0EBr23U6tS1XnkSaO6zoL7KztlfzTwc1tg==", "menu"=>{"date"=>"2017-08-25", "options_attributes"=>{"0"=>{"meal_attributes"=>{"name"=>"Sausages", "description"=>"Yummy"}}, "1"=>{"meal_attributes"=>{"name"=>"Soup", "description"=>"Yummy as well"}}}}, "commit"=>"Create Menu"}
Started POST "/menus" for 127.0.0.1 at 2017-08-25 23:09:18 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"r+CfH/F7Ow6tEPsczZKAj56WE+FTYqHPspyKfIfEwHAi8pR03oap0EBr23U6tS1XnkSaO6zoL7KztlfzTwc1tg==", "menu"=>{"date"=>"2017-08-25", "options_attributes"=>{"0"=>{"meal_attributes"=>{"name"=>"Sausages", "description"=>"Yummy"}}, "1"=>{"meal_attributes"=>{"name"=>"Soup", "description"=>"Yummy as well"}}}}, "commit"=>"Create Menu"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (13.8ms)[0m  [1m[32mINSERT INTO "menus" ("date", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["date", Fri, 25 Aug 2017], ["created_at", 2017-08-25 22:09:19 UTC], ["updated_at", 2017-08-25 22:09:19 UTC]]
  [1m[35mSQL (7.1ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sausages"], ["description", "Yummy"], ["created_at", 2017-08-25 22:09:19 UTC], ["updated_at", 2017-08-25 22:09:19 UTC]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 1], ["meal_id", 1], ["created_at", 2017-08-25 22:09:19 UTC], ["updated_at", 2017-08-25 22:09:19 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Soup"], ["description", "Yummy as well"], ["created_at", 2017-08-25 22:09:19 UTC], ["updated_at", 2017-08-25 22:09:19 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 1], ["meal_id", 2], ["created_at", 2017-08-25 22:09:19 UTC], ["updated_at", 2017-08-25 22:09:19 UTC]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 176ms (ActiveRecord: 33.1ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-25 23:09:19 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  Rendered menus/index.html.erb within layouts/application (3.7ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (26.2ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (259.8ms)
Completed 200 OK in 271ms (Views: 268.8ms | ActiveRecord: 0.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 23:09:20 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (45.4ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (14.4ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (80.7ms)
Completed 200 OK in 88ms (Views: 84.5ms | ActiveRecord: 0.0ms)


Started POST "/menus" for 127.0.0.1 at 2017-08-25 23:09:41 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tyjHT5BNzCgDc9mY5iqSYClWpuezgjuiPCpyMo2H/uQ6Oswkv7Be9u4I+fERDT+4KYQvPUwItd89AK+9RUQLIg==", "menu"=>{"date"=>"2017-08-25", "options_attributes"=>{"0"=>{"meal_attributes"=>{"name"=>"Sausages", "description"=>"with gravy and onions in crusty roll"}}, "1"=>{"meal_attributes"=>{"name"=>"Soup", "description"=>"with crusty roll"}}}}, "commit"=>"Create Menu"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "menus" ("date", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["date", Fri, 25 Aug 2017], ["created_at", 2017-08-25 22:09:41 UTC], ["updated_at", 2017-08-25 22:09:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sausages"], ["description", "with gravy and onions in crusty roll"], ["created_at", 2017-08-25 22:09:41 UTC], ["updated_at", 2017-08-25 22:09:41 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 2], ["meal_id", 3], ["created_at", 2017-08-25 22:09:41 UTC], ["updated_at", 2017-08-25 22:09:41 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Soup"], ["description", "with crusty roll"], ["created_at", 2017-08-25 22:09:41 UTC], ["updated_at", 2017-08-25 22:09:41 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 2], ["meal_id", 4], ["created_at", 2017-08-25 22:09:41 UTC], ["updated_at", 2017-08-25 22:09:41 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 26ms (ActiveRecord: 3.3ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-25 23:09:41 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  Rendered menus/index.html.erb within layouts/application (1.4ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (17.6ms)
  Rendered application/_css_overrides.html.erb (1.2ms)
  Rendered layouts/application.html.erb (45.8ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-25 23:10:39 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (13.8ms)
  Rendered application/_flashes.html.erb (1.2ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (24.4ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (69.6ms)
Completed 200 OK in 79ms (Views: 73.8ms | ActiveRecord: 0.0ms)


Started POST "/menus" for 127.0.0.1 at 2017-08-25 23:10:54 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JtvXqa3BT97oPBsiUJbtLaCKkw1/Nw2q0HMDPdljOB+rydzCgjzdAAVHO0unsUD1oFga14C9g9fRWd6yEaDN2Q==", "menu"=>{"date"=>"2017-08-25", "options_attributes"=>{"0"=>{"meal_attributes"=>{"name"=>"Sausages", "description"=>"with crusty rolls and onions and gravy"}}, "1"=>{"meal_attributes"=>{"name"=>"Soup", "description"=>"with crusty rolls"}}}}, "commit"=>"Create Menu"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "menus" ("date", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["date", Fri, 25 Aug 2017], ["created_at", 2017-08-25 22:10:54 UTC], ["updated_at", 2017-08-25 22:10:54 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sausages"], ["description", "with crusty rolls and onions and gravy"], ["created_at", 2017-08-25 22:10:54 UTC], ["updated_at", 2017-08-25 22:10:54 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["meal_id", 5], ["created_at", 2017-08-25 22:10:54 UTC], ["updated_at", 2017-08-25 22:10:54 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Soup"], ["description", "with crusty rolls"], ["created_at", 2017-08-25 22:10:54 UTC], ["updated_at", 2017-08-25 22:10:54 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["meal_id", 6], ["created_at", 2017-08-25 22:10:54 UTC], ["updated_at", 2017-08-25 22:10:54 UTC]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 44ms (ActiveRecord: 14.4ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-25 23:10:55 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  Rendered menus/index.html.erb within layouts/application (0.5ms)
  Rendered application/_flashes.html.erb (1.3ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (24.5ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (51.8ms)
Completed 200 OK in 58ms (Views: 55.8ms | ActiveRecord: 0.0ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-25 23:18:00 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  Rendered menus/index.html.erb within layouts/application (0.7ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (17.0ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (40.2ms)
Completed 200 OK in 47ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-25 23:18:19 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (18.8ms)
  Rendered layouts/application.html.erb (21.2ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 3.0ms)


  
ActionView::Template::Error (undefined method `name' for #<Menu:0x007fc415db5c78>):
    4:   <ul>
    5:     <%= @menus.each do |menu| %>
    6:       <li>
    7:         <%= menu.name %>
    8:         <%= menu.description %>
    9:       </li>
   10:     <% end %>
  
app/views/menus/index.html.erb:7:in `block in _app_views_menus_index_html_erb__4233626473788458153_70240066761160'
app/views/menus/index.html.erb:5:in `_app_views_menus_index_html_erb__4233626473788458153_70240066761160'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (73.1ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-25 23:18:56 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (2.3ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (13.1ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (40.7ms)
Completed 200 OK in 46ms (Views: 44.8ms | ActiveRecord: 0.3ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-25 23:19:10 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (1.6ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.3ms)
  Rendered application/_javascript.html.erb (9.6ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 37ms (Views: 35.2ms | ActiveRecord: 0.3ms)


Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-25 23:19:14 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.9ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 48343ms (ActiveRecord: 3.6ms)


  
NoMethodError (undefined method `send_messages' for SlackClient:Class):
  
app/services/lunch/distribute.rb:26:in `send_messages_to_users'
app/services/lunch/distribute.rb:14:in `perform'
app/controllers/menus_controller.rb:21:in `distribute'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (67.9ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (70.4ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:13:12 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 36243ms (ActiveRecord: 8.3ms)


  
NoMethodError (undefined method `find_or_create' for #<Class:0x007fc4164ffe48>
Did you mean?  find_or_create_by
               find_or_create_by!
               first_or_create):
  
app/services/slack_client.rb:26:in `block in get_members'
app/services/slack_client.rb:25:in `map'
app/services/slack_client.rb:25:in `get_members'
app/services/lunch/distribute.rb:18:in `get_members'
app/services/lunch/distribute.rb:12:in `perform'
app/controllers/menus_controller.rb:22:in `distribute'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (70.9ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:13:54 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("slack_id", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["created_at", 2017-08-25 23:13:59 UTC], ["updated_at", 2017-08-25 23:13:59 UTC]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("slack_id", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["created_at", 2017-08-25 23:13:59 UTC], ["updated_at", 2017-08-25 23:13:59 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 38558ms (ActiveRecord: 11.4ms)


  
NameError (undefined local variable or method `send_menues_to_users' for #<Lunch::Distribute:0x007fc415e2d520>
Did you mean?  send_menus_to_users):
  
app/services/lunch/distribute.rb:14:in `perform'
app/controllers/menus_controller.rb:22:in `distribute'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (67.6ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:14:37 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 39597ms (ActiveRecord: 13.2ms)


  
NameError (undefined local variable or method `user_with_recipient' for SlackClient:Class):
  
app/services/slack_client.rb:39:in `block in send_messages'
app/services/slack_client.rb:35:in `each'
app/services/slack_client.rb:35:in `send_messages'
app/services/lunch/distribute.rb:22:in `send_menus_to_users'
app/services/lunch/distribute.rb:14:in `perform'
app/controllers/menus_controller.rb:22:in `distribute'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (65.5ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:15:22 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
No template found for MenusController#distribute, rendering head :no_content
Completed 204 No Content in 17233ms (ActiveRecord: 6.6ms)


Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:25:53 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 4447ms (ActiveRecord: 2.6ms)


  
SyntaxError (/Users/Ollie/Documents/lunch/app/services/slack_client.rb:37: syntax error, unexpected tSTRING_DEND, expecting ')'
               method: :post },
                              ^
/Users/Ollie/Documents/lunch/app/services/slack_client.rb:38: syntax error, unexpected tSTRING_DEND, expecting '}'
ation/x-www-form-urlencoded' },
                              ^
/Users/Ollie/Documents/lunch/app/services/slack_client.rb:43: syntax error, unexpected tSTRING_DEND, expecting '}'
chments' => menu_attachments } ).perform
                              ^):
  
app/services/slack_client.rb:37: syntax error, unexpected tSTRING_DEND, expecting ')'
app/services/slack_client.rb:38: syntax error, unexpected tSTRING_DEND, expecting '}'
app/services/slack_client.rb:43: syntax error, unexpected tSTRING_DEND, expecting '}'
app/services/lunch/distribute.rb:18:in `get_members'
app/services/lunch/distribute.rb:12:in `perform'
app/controllers/menus_controller.rb:22:in `distribute'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (72.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (75.6ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:26:39 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
No template found for MenusController#distribute, rendering head :no_content
Completed 204 No Content in 4294ms (ActiveRecord: 5.2ms)


Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:27:21 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
No template found for MenusController#distribute, rendering head :no_content
Completed 204 No Content in 4997ms (ActiveRecord: 5.9ms)


Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:36:19 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
No template found for MenusController#distribute, rendering head :no_content
Completed 204 No Content in 7785ms (ActiveRecord: 1.3ms)


Started POST "/message_action" for 52.54.222.230 at 2017-08-26 00:36:33 +0100
Cannot render console from 52.54.222.230! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  
ActionController::RoutingError (uninitialized constant MessageActionsController):
  
activesupport (5.0.2) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.2) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:725:in `call'
bullet (5.5.1) lib/bullet/rack.rb:10:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:20:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered collection of /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [10 times] (10.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (5.1ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (99.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (102.3ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:38:26 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.4ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
No template found for MenusController#distribute, rendering head :no_content
Completed 204 No Content in 14304ms (ActiveRecord: 8.0ms)


Started POST "/message_action" for 52.91.184.228 at 2017-08-26 00:38:47 +0100
Cannot render console from 52.91.184.228! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"2\"}]}],\"callback_id\":\"menu_selection\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503704327.255724\",\"message_ts\":\"1503704316.000212\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please choose your meals for the week\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_selection\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Monday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]},{\"id\":\"2\",\"name\":\"Tuesday\",\"text\":\"Pick your meal for Tuesday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503704316.000212\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/232122484228\\/RUFPRumY7kfL8cfU6mDlE1Ts\",\"trigger_id\":\"232953703510.231983340082.56f80d1bdae87c364b68afe6bd25ab90\"}"}
Can't verify CSRF token authenticity.
Started POST "/message_action" for 54.161.187.202 at 2017-08-26 00:43:56 +0100
Cannot render console from 54.161.187.202! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Tuesday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"2\"}]}],\"callback_id\":\"menu_selection\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503704636.286734\",\"message_ts\":\"1503704316.000212\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please choose your meals for the week\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_selection\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Monday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]},{\"id\":\"2\",\"name\":\"Tuesday\",\"text\":\"Pick your meal for Tuesday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503704316.000212\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/232954834710\\/YcRtFuPQ5UEYbJY3DzO0HeHF\",\"trigger_id\":\"231988278035.231983340082.fc427f2bbaef064149724fb2f6d50e87\"}"}
Can't verify CSRF token authenticity.
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:44:59 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (1.0ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
No template found for MenusController#distribute, rendering head :no_content
Completed 204 No Content in 11617ms (ActiveRecord: 8.6ms)


Started POST "/message_action" for 52.90.121.46 at 2017-08-26 00:45:19 +0100
Cannot render console from 52.90.121.46! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"1\"}]}],\"callback_id\":\"menu_selection\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503704719.134856\",\"message_ts\":\"1503704711.000043\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please choose your meals for the week\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_selection\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Monday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]},{\"id\":\"2\",\"name\":\"Tuesday\",\"text\":\"Pick your meal for Tuesday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503704711.000043\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/232123946468\\/vRG3YusVfMZ5wsb1HR08gF0Q\",\"trigger_id\":\"233156131383.231983340082.48b72f3275b620404f60e624eb8cc6f7\"}"}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)


  
ActionView::MissingTemplate (Missing template message_actions/ok, api/v1/api_base/ok, application/ok with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/Users/Ollie/Documents/lunch/app/views"
):
  
app/controllers/message_actions_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (81.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (83.8ms)
Started POST "/message_action" for 52.90.121.46 at 2017-08-26 00:45:54 +0100
Cannot render console from 52.90.121.46! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Tuesday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"2\"}]}],\"callback_id\":\"menu_selection\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503704754.206714\",\"message_ts\":\"1503704711.000043\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please choose your meals for the week\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_selection\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Monday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]},{\"id\":\"2\",\"name\":\"Tuesday\",\"text\":\"Pick your meal for Tuesday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503704711.000043\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/232124051124\\/xwrykn2ySD92rpvadxMK6ZMC\",\"trigger_id\":\"231532305633.231983340082.fe9310afa0ef490ebe3665542c71d889\"}"}
Can't verify CSRF token authenticity.
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-26 00:47:26 +0100
Processing by MenusController#distribute as HTML
  Parameters: {"authenticity_token"=>"0QinNilw3M758Sg/pTOJqwleal6J3R7dh4yjeJbwjPNcGqxdBo1OEBSKCFZSFCRzCYzjhHZXkKCGpn73XjN5NQ=="}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
No template found for MenusController#distribute, rendering head :no_content
Completed 204 No Content in 8216ms (ActiveRecord: 5.4ms)


Started POST "/message_action" for 54.174.114.150 at 2017-08-26 00:47:40 +0100
Cannot render console from 54.174.114.150! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"2\"}]}],\"callback_id\":\"menu_selection\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503704859.893130\",\"message_ts\":\"1503704853.000150\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please choose your meals for the week\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_selection\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Monday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]},{\"id\":\"2\",\"name\":\"Tuesday\",\"text\":\"Pick your meal for Tuesday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503704853.000150\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/233156609607\\/lqULqH4vyUdRiuUqGV2l8pNs\",\"trigger_id\":\"231989092819.231983340082.466300b65a317ca5be144297cc40306c\"}"}
Can't verify CSRF token authenticity.
Completed 200 OK in 0ms (ActiveRecord: 0.0ms)


Started POST "/message_action" for 34.207.213.117 at 2017-08-26 00:47:44 +0100
Cannot render console from 34.207.213.117! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Tuesday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"1\"}]}],\"callback_id\":\"menu_selection\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503704863.924834\",\"message_ts\":\"1503704853.000150\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please choose your meals for the week\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_selection\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Monday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]},{\"id\":\"2\",\"name\":\"Tuesday\",\"text\":\"Pick your meal for Tuesday...\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Meal one\",\"value\":\"1\"},{\"text\":\"Meal two\",\"value\":\"2\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503704853.000150\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/232199834149\\/SEVIOPTFRGtj9hvwRMakrHPC\",\"trigger_id\":\"232124430644.231983340082.6a43c50a2b4282279ec8dc7def3e63b1\"}"}
Can't verify CSRF token authenticity.
Completed 200 OK in 0ms (ActiveRecord: 0.0ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-27 21:25:41 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.5ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (65.7ms)
  Rendered application/_flashes.html.erb (0.9ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (39.7ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (380.6ms)
Completed 200 OK in 400ms (Views: 335.9ms | ActiveRecord: 53.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 21:25:42 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (27.9ms)
  Rendered application/_flashes.html.erb (0.9ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (10.5ms)
  Rendered application/_css_overrides.html.erb (0.8ms)
  Rendered layouts/application.html.erb (61.0ms)
Completed 200 OK in 176ms (Views: 64.4ms | ActiveRecord: 6.4ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 21:33:47 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (145.5ms)
  Rendered layouts/application.html.erb (147.9ms)
Completed 500 Internal Server Error in 197ms (ActiveRecord: 6.2ms)


  
ActionView::Template::Error (undefined method `link_to_remove_association' for #<#<Class:0x007ff989a26e78>:0x007ff989a25cd0>
Did you mean?  link_to_remote_options?):
    11:       <%= mf.label :description %>
    12:       <%= mf.text_area :description %>
    13:     <% end %>
    14:     <%= link_to_remove_association "Remove option", of %>
    15:   <% end %>
    16:   <%= link_to_add_association 'Add option', f, :options %>
    17: 
  
app/views/menus/new.html.erb:14:in `block (2 levels) in _app_views_menus_new_html_erb___3111518028663538681_70354866355280'
app/views/menus/new.html.erb:6:in `block in _app_views_menus_new_html_erb___3111518028663538681_70354866355280'
app/views/menus/new.html.erb:1:in `_app_views_menus_new_html_erb___3111518028663538681_70354866355280'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.4ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (73.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (75.6ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 21:35:09 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (59.2ms)
  Rendered layouts/application.html.erb (62.4ms)
Completed 500 Internal Server Error in 159ms (ActiveRecord: 7.3ms)


  
ActionView::Template::Error (undefined method `new_record?' for #<#<Class:0x007fc22a44be40>:0x007fc22645d810>):
    11:       <%= mf.label :description %>
    12:       <%= mf.text_area :description %>
    13:     <% end %>
    14:     <%= link_to_remove_association "Remove option", of %>
    15:   <% end %>
    16:   <%= link_to_add_association 'Add option', f, :options %>
    17: 
  
app/views/menus/new.html.erb:14:in `block (2 levels) in _app_views_menus_new_html_erb___3104607859468140620_70235920411000'
app/views/menus/new.html.erb:6:in `block in _app_views_menus_new_html_erb___3104607859468140620_70235920411000'
app/views/menus/new.html.erb:1:in `_app_views_menus_new_html_erb___3104607859468140620_70235920411000'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (14.7ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (88.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (91.4ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 21:38:44 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (12.5ms)
  Rendered layouts/application.html.erb (15.6ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `reflect_on_association' for MenuForm:Class):
    12:       <%= mf.text_area :description %>
    13:     <% end %>
    14:   <% end %>
    15:   <%= link_to_add_association 'Add option', f, :options %>
    16: 
    17:   <%= f.submit 'Create Menu' %>
    18: <% end %>
  
app/views/menus/new.html.erb:15:in `block in _app_views_menus_new_html_erb___3104607859468140620_70235920889940'
app/views/menus/new.html.erb:1:in `_app_views_menus_new_html_erb___3104607859468140620_70235920889940'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (69.9ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (72.8ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 21:39:47 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (8.4ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (52.6ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (3416.8ms)
Completed 200 OK in 3423ms (Views: 3420.5ms | ActiveRecord: 0.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 21:42:25 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (10.3ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (15.1ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (48.4ms)
Completed 200 OK in 105ms (Views: 54.0ms | ActiveRecord: 7.3ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:00:56 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/new.html.erb within layouts/application (2.1ms)
  Rendered layouts/application.html.erb (8.5ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/Ollie/Documents/lunch/app/views/menus/new.html.erb:8: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
ink_to_add_association, 'Add', f, :options, partial: 'option
                              ^
/Users/Ollie/Documents/lunch/app/views/menus/new.html.erb:8: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
sociation, 'Add', f, :options, partial: 'option', force_non_
                              ^
/Users/Ollie/Documents/lunch/app/views/menus/new.html.erb:8: syntax error, unexpected ',', expecting ')'
, :options, partial: 'option', force_non_association_create:
                              ^):
  
app/views/menus/new.html.erb:8: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/menus/new.html.erb:8: syntax error, unexpected ',', expecting &. or :: or '[' or '.'
app/views/menus/new.html.erb:8: syntax error, unexpected ',', expecting ')'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (78.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (81.2ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:02:26 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (2.5ms)
  Rendered menus/new.html.erb within layouts/application (19.3ms)
  Rendered layouts/application.html.erb (21.8ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `reflect_on_association' for MenuForm:Class):
     5:   <%= f.label :options %>
     6:   <%= f.fields_for :options do |of| %>
     7:     <%= render 'option', f: of %>
     8:     <%= link_to_add_association 'Add', f, :options, partial: 'option', force_non_association_create: true %>
     9:   <% end %>
    10: 
    11:   <%= f.submit 'Create Menu' %>
  
app/views/menus/new.html.erb:8:in `block (2 levels) in _app_views_menus_new_html_erb___3104607859468140620_70235910360100'
app/views/menus/new.html.erb:6:in `block in _app_views_menus_new_html_erb___3104607859468140620_70235910360100'
app/views/menus/new.html.erb:1:in `_app_views_menus_new_html_erb___3104607859468140620_70235910360100'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (7.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (74.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (76.5ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:03:42 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (4.0ms)
  Rendered menus/new.html.erb within layouts/application (14.5ms)
  Rendered layouts/application.html.erb (17.0ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 7.9ms)


  
ActionView::Template::Error (undefined method `reflect_on_association' for MenuForm:Class):
     5:   <%= f.label :options %>
     6:   <%= f.fields_for :options do |of| %>
     7:     <%= render 'option', f: of %>
     8:     <%= link_to_add_association 'Add', f, :options, partial: 'option', force_non_association_create: true %>
     9:   <% end %>
    10: 
    11:   <%= f.submit 'Create Menu' %>
  
app/views/menus/new.html.erb:8:in `block (2 levels) in _app_views_menus_new_html_erb___3104607859468140620_70235905255720'
app/views/menus/new.html.erb:6:in `block in _app_views_menus_new_html_erb___3104607859468140620_70235905255720'
app/views/menus/new.html.erb:1:in `_app_views_menus_new_html_erb___3104607859468140620_70235905255720'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (74.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (77.2ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:04:45 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (2.9ms)
  Rendered menus/new.html.erb within layouts/application (13.7ms)
  Rendered layouts/application.html.erb (16.1ms)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 7.0ms)


  
ActionView::Template::Error (undefined method `reflect_on_association' for MenuForm:Class):
     5:   <%= f.label :options %>
     6:   <%= f.fields_for :options do |of| %>
     7:     <%= render 'option', f: of %>
     8:     <%= link_to_add_association 'Add', f, :options, partial: 'option', force_non_association_create: true %>
     9:   <% end %>
    10: 
    11:   <%= f.submit 'Create Menu' %>
  
app/views/menus/new.html.erb:8:in `block (2 levels) in _app_views_menus_new_html_erb___3104607859468140620_70235978711280'
app/views/menus/new.html.erb:6:in `block in _app_views_menus_new_html_erb___3104607859468140620_70235978711280'
app/views/menus/new.html.erb:1:in `_app_views_menus_new_html_erb___3104607859468140620_70235978711280'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (8.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.7ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (74.1ms)
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:05:12 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (3.5ms)
  Rendered menus/_option.html.erb (2.5ms)
  Rendered menus/new.html.erb within layouts/application (14.2ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (24.5ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (62.0ms)
Completed 200 OK in 117ms (Views: 66.2ms | ActiveRecord: 6.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:06:38 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (3.0ms)
  Rendered menus/_option.html.erb (2.5ms)
  Rendered menus/new.html.erb within layouts/application (13.5ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (11.9ms)
  Rendered application/_css_overrides.html.erb (0.7ms)
  Rendered layouts/application.html.erb (47.7ms)
Completed 200 OK in 55ms (Views: 51.7ms | ActiveRecord: 0.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:14:15 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (2.7ms)
  Rendered menus/_option.html.erb (2.1ms)
  Rendered menus/new.html.erb within layouts/application (10.7ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (11.5ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (42.2ms)
Completed 200 OK in 89ms (Views: 45.9ms | ActiveRecord: 5.5ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:16:00 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (3.0ms)
  Rendered menus/_option.html.erb (10.1ms)
  Rendered menus/new.html.erb within layouts/application (19.5ms)
  Rendered application/_flashes.html.erb (0.8ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (16.9ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (60.9ms)
Completed 200 OK in 69ms (Views: 65.3ms | ActiveRecord: 0.0ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:18:36 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (4.8ms)
  Rendered menus/_option.html.erb (2.9ms)
  Rendered menus/new.html.erb within layouts/application (17.0ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (17.1ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (57.3ms)
Completed 200 OK in 67ms (Views: 62.2ms | ActiveRecord: 0.0ms)


Started POST "/menus" for 127.0.0.1 at 2017-08-27 22:19:50 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"73y2VJ0ee8p9jZ/ZrEzLSnBgO6RqXfBGd8y6g2QHXtdibr0/suPpFJD2v7Bba2aScLKyfpXXfjt25mcMrMSrEQ==", "menu"=>{"date"=>"2017-08-27", "options_attributes"=>{"1503868726533"=>{"meal"=>{"name"=>"Cheese roll", "description"=>"With salad"}, "_destroy"=>"false"}, "1503868738579"=>{"meal"=>{"name"=>"Tuna roll", "description"=>"With tomato"}, "_destroy"=>"false"}, "1503868747808"=>{"meal"=>{"name"=>"Quiche", "description"=>""}, "_destroy"=>"false"}}}, "commit"=>"Create Menu"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (12.0ms)[0m  [1m[32mINSERT INTO "menus" ("date", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["date", Sun, 27 Aug 2017], ["created_at", 2017-08-27 21:19:50 UTC], ["updated_at", 2017-08-27 21:19:50 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cheese roll"], ["description", "With salad"], ["created_at", 2017-08-27 21:19:50 UTC], ["updated_at", 2017-08-27 21:19:50 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["meal_id", 7], ["created_at", 2017-08-27 21:19:50 UTC], ["updated_at", 2017-08-27 21:19:50 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tuna roll"], ["description", "With tomato"], ["created_at", 2017-08-27 21:19:50 UTC], ["updated_at", 2017-08-27 21:19:50 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["meal_id", 8], ["created_at", 2017-08-27 21:19:50 UTC], ["updated_at", 2017-08-27 21:19:50 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Quiche"], ["description", ""], ["created_at", 2017-08-27 21:19:50 UTC], ["updated_at", 2017-08-27 21:19:50 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["meal_id", 9], ["created_at", 2017-08-27 21:19:50 UTC], ["updated_at", 2017-08-27 21:19:50 UTC]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 66ms (ActiveRecord: 16.5ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-27 22:19:50 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (1.7ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (13.4ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (35.9ms)
Completed 200 OK in 41ms (Views: 39.1ms | ActiveRecord: 0.3ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-27 22:37:46 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (7.2ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (20.2ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (52.1ms)
Completed 200 OK in 66ms (Views: 54.8ms | ActiveRecord: 2.3ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:37:48 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (3.1ms)
  Rendered menus/_option.html.erb (4.1ms)
  Rendered menus/new.html.erb within layouts/application (15.6ms)
  Rendered application/_flashes.html.erb (1.1ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (28.5ms)
  Rendered application/_css_overrides.html.erb (1.1ms)
  Rendered layouts/application.html.erb (74.7ms)
Completed 200 OK in 133ms (Views: 78.1ms | ActiveRecord: 4.0ms)


Started POST "/menus" for 127.0.0.1 at 2017-08-27 22:38:06 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2xX4fYIhV6aiQVxejrixLPufI97Hu0eLbG3Z5U5/lMxWB/MWrdzFeE86fDd5nxz0+02qBDgxyfZtRwRqhrxhCg==", "menu"=>{"date"=>"2017-08-27", "options_attributes"=>{"1503869870895"=>{"meal"=>{"name"=>"Pie", "description"=>"Mash"}, "_destroy"=>"false"}, "0"=>{"meal_attributes"=>{"name"=>"Beans", "description"=>"Toast"}, "_destroy"=>""}}}, "commit"=>"Create Menu"}
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:39:58 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (7.0ms)
  Rendered menus/_option.html.erb (4.5ms)
  Rendered menus/new.html.erb within layouts/application (65.9ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (26.3ms)
  Rendered application/_css_overrides.html.erb (0.6ms)
  Rendered layouts/application.html.erb (320.3ms)
Completed 200 OK in 424ms (Views: 328.4ms | ActiveRecord: 8.2ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:40:15 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (3.5ms)
  Rendered menus/_option.html.erb (2.8ms)
  Rendered menus/new.html.erb within layouts/application (13.0ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (17.1ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (73.9ms)
Completed 200 OK in 81ms (Views: 77.4ms | ActiveRecord: 0.0ms)


Started POST "/menus" for 127.0.0.1 at 2017-08-27 22:43:05 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4dzfeC93AmMF1J4PeXcgiLQ9x0eekJhdxl3M0Zl7VadsztQTAIqQveivvmaOUI1QtO9OnWEaFiDHdxFeUbigYQ==", "menu"=>{"date"=>"2017-08-27", "options_attributes"=>{"1503870022900"=>{"meal"=>{"name"=>"Sausages", "description"=>"Mash"}, "_destroy"=>"false"}, "1503870029856"=>{"meal"=>{"name"=>"Pie", "description"=>"Gravy"}, "_destroy"=>"false"}, "0"=>{"meal_attributes"=>{"name"=>"Beans", "description"=>"Toast"}, "_destroy"=>""}}}, "commit"=>"Create Menu"}
Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 22:52:59 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (6.9ms)
  Rendered menus/_option.html.erb (3.2ms)
  Rendered menus/new.html.erb within layouts/application (66.6ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (26.9ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (311.6ms)
Completed 200 OK in 430ms (Views: 323.1ms | ActiveRecord: 9.0ms)


Started POST "/menus" for 127.0.0.1 at 2017-08-27 22:53:35 +0100
Processing by MenusController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"K9qvwvfLKKMDezXnCQsTfeNdvn37LFzJnoxysBk70GimyKSp2Da6fe4AFY7+LL6l4483pwSm0rSfpq8/0fglrg==", "menu"=>{"date"=>"2017-08-27", "options_attributes"=>{"1503870787485"=>{"meal"=>{"name"=>"Pie", "description"=>"With gravy"}, "_destroy"=>"false"}, "1503870803882"=>{"meal"=>{"name"=>"Fish", "description"=>"and chips"}, "_destroy"=>"false"}, "0"=>{"meal_attributes"=>{"name"=>"Bean on toast", "description"=>""}, "_destroy"=>""}}}, "commit"=>"Create Menu"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.9ms)[0m  [1m[32mINSERT INTO "menus" ("date", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["date", Sun, 27 Aug 2017], ["created_at", 2017-08-27 21:53:35 UTC], ["updated_at", 2017-08-27 21:53:35 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Pie"], ["description", "With gravy"], ["created_at", 2017-08-27 21:53:35 UTC], ["updated_at", 2017-08-27 21:53:35 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 5], ["meal_id", 10], ["created_at", 2017-08-27 21:53:35 UTC], ["updated_at", 2017-08-27 21:53:35 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Fish"], ["description", "and chips"], ["created_at", 2017-08-27 21:53:35 UTC], ["updated_at", 2017-08-27 21:53:35 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 5], ["meal_id", 11], ["created_at", 2017-08-27 21:53:35 UTC], ["updated_at", 2017-08-27 21:53:35 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "meals" ("name", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bean on toast"], ["description", ""], ["created_at", 2017-08-27 21:53:35 UTC], ["updated_at", 2017-08-27 21:53:35 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "options" ("menu_id", "meal_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 5], ["meal_id", 12], ["created_at", 2017-08-27 21:53:35 UTC], ["updated_at", 2017-08-27 21:53:35 UTC]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 49ms (ActiveRecord: 12.8ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-27 22:53:35 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (1.8ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (33.6ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (55.2ms)
Completed 200 OK in 61ms (Views: 58.7ms | ActiveRecord: 0.3ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:06:41 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (11.4ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.7ms)
  Rendered application/_javascript.html.erb (26.9ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (67.4ms)
Completed 200 OK in 78ms (Views: 67.9ms | ActiveRecord: 3.8ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 23:06:42 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (6.7ms)
  Rendered menus/_option.html.erb (10.7ms)
  Rendered menus/new.html.erb within layouts/application (26.8ms)
  Rendered application/_flashes.html.erb (1.4ms)
  Rendered application/_analytics.html.erb (1.0ms)
  Rendered application/_javascript.html.erb (19.4ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (72.9ms)
Completed 200 OK in 147ms (Views: 78.3ms | ActiveRecord: 5.9ms)


Started GET "/menus/new" for 127.0.0.1 at 2017-08-27 23:06:47 +0100
Processing by MenusController#new as HTML
  Rendering layouts/application.html.erb
  Rendering menus/new.html.erb within layouts/application
  Rendered menus/_option.html.erb (5.4ms)
  Rendered menus/_option.html.erb (4.7ms)
  Rendered menus/new.html.erb within layouts/application (17.9ms)
  Rendered application/_flashes.html.erb (0.9ms)
  Rendered application/_analytics.html.erb (0.3ms)
  Rendered application/_javascript.html.erb (28.6ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (73.3ms)
Completed 200 OK in 81ms (Views: 77.4ms | ActiveRecord: 0.0ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:20:48 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  Rendered menus/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/application.html.erb (3.1ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/Ollie/Documents/lunch/app/views/menus/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
                ^
/Users/Ollie/Documents/lunch/app/views/menus/index.html.erb:19: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/menus/index.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/menus/index.html.erb:19: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (84.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (86.9ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:21:05 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (11.8ms)
  Rendered layouts/application.html.erb (14.4ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (undefined method `check_box' for nil:NilClass):
     6:       <% @menus.each do |menu| %>
     7:         <li>
     8:           <%= menu.date %>
     9:           <%= f.check_box menu.id %>
    10:         </li>
    11:       <% end %>
    12:     </ul>
  
app/views/menus/index.html.erb:9:in `block (2 levels) in _app_views_menus_index_html_erb___3456685113072411430_70247125085800'
app/views/menus/index.html.erb:6:in `block in _app_views_menus_index_html_erb___3456685113072411430_70247125085800'
app/views/menus/index.html.erb:4:in `_app_views_menus_index_html_erb___3456685113072411430_70247125085800'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.9ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (68.3ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:21:49 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (14.8ms)
  Rendered layouts/application.html.erb (17.8ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `3' for #<Menu::ActiveRecord_Relation:0x007fc7652a9890>):
     6:       <% @menus.each do |menu| %>
     7:         <li>
     8:           <%= menu.date %>
     9:           <%= f.check_box menu.id %>
    10:         </li>
    11:       <% end %>
    12:     </ul>
  
app/views/menus/index.html.erb:9:in `block (2 levels) in _app_views_menus_index_html_erb___3456685113072411430_70247186240760'
app/views/menus/index.html.erb:6:in `block in _app_views_menus_index_html_erb___3456685113072411430_70247186240760'
app/views/menus/index.html.erb:4:in `_app_views_menus_index_html_erb___3456685113072411430_70247186240760'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (74.3ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:22:56 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (2.5ms)
  Rendered application/_flashes.html.erb (0.8ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (19.2ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (55.8ms)
Completed 200 OK in 62ms (Views: 60.0ms | ActiveRecord: 0.3ms)


Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-27 23:25:47 +0100
  
ActionController::RoutingError (No route matches [POST] "/menus/distribute"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered collection of /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [9 times] (8.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.4ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (93.4ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (96.8ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-27 23:26:34 +0100
  
ActionController::RoutingError (No route matches [POST] "/menus/distribute"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [9 times] (2.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (83.4ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (85.6ms)
Started POST "/menus/distribute" for 127.0.0.1 at 2017-08-27 23:26:38 +0100
  
ActionController::RoutingError (No route matches [POST] "/menus/distribute"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.8ms)
  Rendered collection of /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [9 times] (2.7ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (86.3ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (89.1ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:26:51 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (8.6ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (17.2ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 59ms (Views: 49.3ms | ActiveRecord: 3.0ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:26:55 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DmsOZZLDxbhYjgjE4kxGM/v3mqHxUM6r6tJpphrT97yDeQUOvT5XZrX1KK0Va+vr+yUTew7aQNbr+LQp0hACeg==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
No template found for MenuBlocsController#create, rendering head :no_content
Completed 204 No Content in 13308ms (ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3464792812646234685);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMenuBlocs (20170827223023)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (38.4ms)[0m  [1m[35mCREATE TABLE "menu_blocs" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170827223023"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMenuBlocMemberships (20170827223037)
  [1m[35m (6.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.4ms)[0m  [1m[35mCREATE TABLE "menu_bloc_memberships" ("id" serial primary key, "menu_id" integer, "menu_bloc_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_70ef70bb91"
FOREIGN KEY ("menu_id")
  REFERENCES "menus" ("id")
, CONSTRAINT "fk_rails_f179a1704b"
FOREIGN KEY ("menu_bloc_id")
  REFERENCES "menu_blocs" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_menu_bloc_memberships_on_menu_id" ON "menu_bloc_memberships"  ("menu_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_menu_bloc_memberships_on_menu_bloc_id" ON "menu_bloc_memberships"  ("menu_bloc_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170827223037"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3464792812646234685)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:39:57 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (23.0ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (18.8ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (64.0ms)
Completed 200 OK in 80ms (Views: 66.5ms | ActiveRecord: 2.6ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:39:59 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lgx/R92X0RKa2/Jp2HDSWJ/+knXn6h5PYDx0Rzd2cTsbHnQs8mpDzHeg0gAvV3+AnywbrxhgkDJhFqnI/7WE/Q==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (7.0ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 33ms (ActiveRecord: 9.5ms)


  
NameError (undefined local variable or method `create_menu_bloc' for #<MenuBlocs::Create:0x007fc75f859638>):
  
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.3ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (70.6ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:43:07 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (7.6ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (14.8ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (49.0ms)
Completed 200 OK in 61ms (Views: 50.9ms | ActiveRecord: 2.4ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:43:10 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vEDMe8Y5ZG9hiPjrQpF1m3N1mzUJFXbYAW7Y8Xy3RDYxUscQ6cT2sYzz2IK1tthDc6cS7/af+KUARAV+tHSx8A==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 2.8ms)


  
NameError (undefined local variable or method `params' for #<MenuBlocs::Create:0x007fc75e850f20>
Did you mean?  @params):
  
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.7ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (67.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (69.2ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:43:26 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (9.6ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (1.4ms)
  Rendered application/_javascript.html.erb (18.8ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (50.3ms)
Completed 200 OK in 63ms (Views: 52.1ms | ActiveRecord: 3.3ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:43:30 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CSTyOPauC1IonijTf5vXE+37SaH+rqJ7RLbmmIhBk3mENvlT2VOZjMXlCLqIvHrL7SnAewEkLAZFnDsXQIJmvw==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 32161ms (ActiveRecord: 3.9ms)


  
NoMethodError (undefined method `perform' for #<MenuBlocBuilder:0x007fc762977198>):
  
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (66.2ms)
Started GET "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:44:06 +0100
  
ActionController::RoutingError (No route matches [GET] "/menu_blocs"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.5.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [9 times] (3.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (86.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (89.3ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:44:10 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (8.2ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.6ms)
  Rendered application/_javascript.html.erb (19.9ms)
  Rendered application/_css_overrides.html.erb (0.6ms)
  Rendered layouts/application.html.erb (51.6ms)
Completed 200 OK in 64ms (Views: 53.4ms | ActiveRecord: 2.4ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:44:14 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xonrMVdfGXkw6rppFU8vDMdd8KQmBOhvrZ3TSzIPZGJLm+BaeKKLp92RmgDiaILUx495ftmOZhKstw7E+syRpA==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 32485ms (ActiveRecord: 2.6ms)


  
NoMethodError (undefined method `perform' for #<MenuBlocBuilder:0x007fc75f716e60>):
  
app/services/menu_blocs/create.rb:18:in `create_menu_bloc'
app/services/menu_blocs/create.rb:11:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (66.7ms)
Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:45:14 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xonrMVdfGXkw6rppFU8vDMdd8KQmBOhvrZ3TSzIPZGJLm+BaeKKLp92RmgDiaILUx495ftmOZhKstw7E+syRpA==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 26767ms (ActiveRecord: 4.0ms)


  
NoMethodError (undefined method `perform' for #<MenuBlocBuilder:0x007fc762899460>):
  
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.7ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (61.8ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:45:46 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (7.5ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (15.1ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (46.0ms)
Completed 200 OK in 56ms (Views: 47.3ms | ActiveRecord: 2.2ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:45:48 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vAg3u7l3zVeoYSxQo5/BLAfWLlES2esC8to2EzWYjV0xGjzQlopfiUUaDDlUuGz0BwSni+1TZX/z8Ouc/Vt4mw==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:51:19 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (1.2ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (41.0ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (28.9ms)
  Rendered application/_css_overrides.html.erb (0.6ms)
  Rendered layouts/application.html.erb (294.9ms)
Completed 200 OK in 318ms (Views: 298.6ms | ActiveRecord: 4.4ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:51:22 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DAmdyzgFACYjJ7WyLu4ygspPlsGjlIGjuerZbrnfCkaBG5agF/iS+M5cldvZyZ9ayp0fG1weD964wAThcRz/gA==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.6ms)


  
NoMethodError (private method `select' called for nil:NilClass):
  
app/services/menu_bloc_builder.rb:16:in `extract_menus_to_group'
app/services/menu_bloc_builder.rb:10:in `perform'
app/services/menu_blocs/create.rb:18:in `create_menu_bloc'
app/services/menu_blocs/create.rb:11:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (67.8ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:52:07 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (9.3ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (16.3ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (48.5ms)
Completed 200 OK in 60ms (Views: 50.2ms | ActiveRecord: 2.6ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:52:10 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oeQiUhjaJAcZD13aF+a+ozVFhyJcKS/bGXRMuMfm54cs9ik5Nye22fR0fbPgwRN7NZcO+KOjoaYYXpE3DyUSQQ==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.5ms)


  
NoMethodError (private method `select' called for nil:NilClass):
  
app/services/menu_bloc_builder.rb:16:in `extract_menus_to_group'
app/services/menu_bloc_builder.rb:10:in `perform'
app/services/menu_blocs/create.rb:18:in `create_menu_bloc'
app/services/menu_blocs/create.rb:11:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (67.7ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:52:25 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.9ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (8.6ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (15.8ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 61ms (Views: 50.2ms | ActiveRecord: 3.0ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:52:27 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"K/shYLisUy052pMx0chKcFCRFmzrXPXvkDlQHpqurBWm6SoLl1HB89Shs1gm7+eoUEOfthTWe5KRE42RUm1Z0w==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:53:18 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.5ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (37.6ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (25.5ms)
  Rendered application/_css_overrides.html.erb (0.8ms)
  Rendered layouts/application.html.erb (321.9ms)
Completed 200 OK in 340ms (Views: 326.3ms | ActiveRecord: 3.2ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:53:22 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EVdQuprhZic//Qks3JaEEUBsT269oQthl8ccGhdGNLGcRVvRtRz0+dKGKUUrsSnJQL7GtEIrhRyW7cGV34XBdw==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (1.0ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:55:01 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.5ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (42.0ms)
  Rendered application/_flashes.html.erb (0.8ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (22.4ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (278.3ms)
Completed 200 OK in 296ms (Views: 280.9ms | ActiveRecord: 3.5ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:55:03 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"paOWBo1YBOWA4UDkaLGMxkmQ1QRFR+uRgMN+zVolE/cosZ1toqWWO22aYI2fliEeSUJc3rrNZeyB6aNCkubmMQ==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.6ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 43687ms (ActiveRecord: 2.9ms)


  
NoMethodError (private method `select' called for nil:NilClass):
  
app/services/menu_bloc_builder.rb:18:in `extract_menus_to_group'
app/services/menu_bloc_builder.rb:10:in `perform'
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (71.4ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (73.9ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:56:15 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (8.2ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (16.1ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (50.1ms)
Completed 200 OK in 62ms (Views: 52.4ms | ActiveRecord: 2.4ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:56:18 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/e/bjA/ES8k21BGNOadiAHXaSrbfyxVxOmeY4bJRQ2pw/dDnIDnZF9uvMeTOgM/YdQjDbCBBmww7TUVuepK2rA==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 18134ms (ActiveRecord: 2.6ms)


  
NoMethodError (private method `select' called for nil:NilClass):
  
app/services/menu_bloc_builder.rb:18:in `extract_menus_to_group'
app/services/menu_bloc_builder.rb:10:in `perform'
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (67.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (69.6ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:58:07 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (7.3ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (15.5ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (45.4ms)
Completed 200 OK in 64ms (Views: 47.4ms | ActiveRecord: 2.4ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:58:09 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CECHuX8LYAbhpndtdN5x3xe+YytBIq0kJiyTBj+zEb+FUozSUPby2AzdVwSD+dwHF2zq8b6oI1knBk6J93DkeQ==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 500 Internal Server Error in 4435ms (ActiveRecord: 2.4ms)


  
SyntaxError (/Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:18: syntax error, unexpected '}', expecting =>
{success: true, menu_ids.keys}
                              ^):
  
app/services/menu_bloc_builder.rb:18: syntax error, unexpected '}', expecting =>
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (71.5ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (74.4ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-27 23:58:36 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (8.2ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (15.1ms)
  Rendered application/_css_overrides.html.erb (1.1ms)
  Rendered layouts/application.html.erb (46.5ms)
Completed 200 OK in 59ms (Views: 48.9ms | ActiveRecord: 2.4ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-27 23:58:39 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xTrljIzh3r92aep6f8IHTNOekmd3bLZf+OILfASCdfxIKO7noxxMYZsSyhOI5aqU00wbvYjmOCL5yNbzzEGAOg==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:17)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (13.1ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 22:59:04 UTC], ["updated_at", 2017-08-27 22:59:04 UTC]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 25075ms (ActiveRecord: 19.2ms)


  
NoMethodError (undefined method `menus' for #<MenuBloc:0x007f9b70844e88>):
  
app/services/menu_bloc_builder.rb:27:in `create_menu_bloc_with_menus'
app/services/menu_bloc_builder.rb:11:in `perform'
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:12:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.8ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (69.9ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:01:43 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (7.7ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (17.7ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 61ms (Views: 51.9ms | ActiveRecord: 2.4ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:01:45 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fekDR1f9GVEFp/GDi6AKWDZpO59a284DZd+jv3pi1x/w+wgseACLj+jc0ep8h6eANruyRaVRQH5k9X4wsqEi2Q==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.1ms)


  
NameError (undefined local variable or method `menu_ids' for #<MenuBlocBuilder:0x007f9b70b6dd80>):
  
app/services/menu_bloc_builder.rb:16:in `extract_menus_to_group'
app/services/menu_bloc_builder.rb:8:in `perform'
app/services/menu_blocs/create.rb:19:in `create_menu_bloc'
app/services/menu_blocs/create.rb:11:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (66.1ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:02:03 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (7.4ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (16.0ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (46.1ms)
Completed 200 OK in 58ms (Views: 48.2ms | ActiveRecord: 2.3ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:02:05 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOh/8S2RbS1QMvN2spWoxnBvJ68O0z73ZbRtXs+HmLEN+nSaAmz/871J0x9FsgUecL2udfFZsIpknrDRB0Rtdw==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.6ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 23:02:05 UTC], ["updated_at", 2017-08-27 23:02:05 UTC]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" IN (3, 4)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (24.0ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["menu_bloc_id", 2], ["created_at", 2017-08-27 23:02:05 UTC], ["updated_at", 2017-08-27 23:02:05 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["menu_bloc_id", 2], ["created_at", 2017-08-27 23:02:05 UTC], ["updated_at", 2017-08-27 23:02:05 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:27:43 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOh/8S2RbS1QMvN2spWoxnBvJ68O0z73ZbRtXs+HmLEN+nSaAmz/871J0x9FsgUecL2udfFZsIpknrDRB0Rtdw==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (7.7ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 23:27:43 UTC], ["updated_at", 2017-08-27 23:27:43 UTC]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" IN (3, 4)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["menu_bloc_id", 3], ["created_at", 2017-08-27 23:27:44 UTC], ["updated_at", 2017-08-27 23:27:44 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["menu_bloc_id", 3], ["created_at", 2017-08-27 23:27:44 UTC], ["updated_at", 2017-08-27 23:27:44 UTC]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 509ms (ActiveRecord: 48.0ms)


  
NameError (undefined local variable or method `send_menus_to_users' for #<MenuBlocs::Create:0x007f9b6d408f48>
Did you mean?  send_first_menu_to_users):
  
app/services/menu_blocs/create.rb:14:in `perform'
app/controllers/menu_blocs_controller.rb:4:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (74.2ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (76.5ms)
Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:28:37 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (17.2ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (25.6ms)
  Rendered application/_css_overrides.html.erb (0.6ms)
  Rendered layouts/application.html.erb (310.0ms)
Completed 200 OK in 323ms (Views: 312.2ms | ActiveRecord: 2.3ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:28:41 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2Mq9Na9oAqDqmyCIvL2N9iP6AdDH6MSuNhNyr1nnnmNV2LZegJWQfgfgAOFLmiAuIyiICjhiStM3Oa8gkSRrpQ==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.3ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 23:28:41 UTC], ["updated_at", 2017-08-27 23:28:41 UTC]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.2ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" IN (3, 4)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["menu_bloc_id", 4], ["created_at", 2017-08-27 23:28:41 UTC], ["updated_at", 2017-08-27 23:28:41 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["menu_bloc_id", 4], ["created_at", 2017-08-27 23:28:41 UTC], ["updated_at", 2017-08-27 23:28:41 UTC]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
  [1m[36mMenu Load (0.5ms)[0m  [1m[34mSELECT  "menus".* FROM "menus" INNER JOIN "menu_bloc_memberships" ON "menus"."id" = "menu_bloc_memberships"."menu_id" WHERE "menu_bloc_memberships"."menu_bloc_id" = $1 ORDER BY "menus"."id" ASC LIMIT $2[0m  [["menu_bloc_id", 4], ["LIMIT", 1]]
Redirected to http://lunch.dev/menus
Completed 302 Found in 841ms (ActiveRecord: 22.1ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:28:42 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (2.8ms)
  Rendered application/_flashes.html.erb (0.4ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (11.3ms)
  Rendered application/_css_overrides.html.erb (0.2ms)
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 38ms (Views: 35.8ms | ActiveRecord: 0.3ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:32:14 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"R92Z/pV2v/qGtRuytZaKLP3NVtWlQcCH665jwLo5dY7Kz5KVuostJGvOO9tCsSf0/R/fD1rLTvrqhL5PcvqASA==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 23:32:14 UTC], ["updated_at", 2017-08-27 23:32:14 UTC]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.2ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" IN (3, 4)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["menu_bloc_id", 5], ["created_at", 2017-08-27 23:32:14 UTC], ["updated_at", 2017-08-27 23:32:14 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["menu_bloc_id", 5], ["created_at", 2017-08-27 23:32:14 UTC], ["updated_at", 2017-08-27 23:32:14 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT  "menus".* FROM "menus" INNER JOIN "menu_bloc_memberships" ON "menus"."id" = "menu_bloc_memberships"."menu_id" WHERE "menu_bloc_memberships"."menu_bloc_id" = $1 ORDER BY "menus"."id" ASC LIMIT $2[0m  [["menu_bloc_id", 5], ["LIMIT", 1]]
  [1m[36mOption Load (0.5ms)[0m  [1m[34mSELECT "options".* FROM "options" WHERE "options"."menu_id" = $1[0m  [["menu_id", 3]]
  [1m[36mMeal Load (0.5ms)[0m  [1m[34mSELECT "meals".* FROM "meals" WHERE "meals"."id" IN (5, 6)[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 848ms (ActiveRecord: 24.7ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:32:15 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (2.4ms)
  Rendered application/_flashes.html.erb (0.7ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (18.9ms)
  Rendered application/_css_overrides.html.erb (0.5ms)
  Rendered layouts/application.html.erb (45.3ms)
Completed 200 OK in 52ms (Views: 49.7ms | ActiveRecord: 0.3ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:33:14 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L7hLrgAOpv/g1dKFu3wRLnZFEe6196GnwrPPEpQGRzyiqkDFL/M0IQ2u8uxMW7z2dpeYNEp9L9rDmRKdXMWy+g==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 23:33:14 UTC], ["updated_at", 2017-08-27 23:33:14 UTC]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.2ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" IN (3, 4)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["menu_bloc_id", 6], ["created_at", 2017-08-27 23:33:14 UTC], ["updated_at", 2017-08-27 23:33:14 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["menu_bloc_id", 6], ["created_at", 2017-08-27 23:33:14 UTC], ["updated_at", 2017-08-27 23:33:14 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT  "menus".* FROM "menus" INNER JOIN "menu_bloc_memberships" ON "menus"."id" = "menu_bloc_memberships"."menu_id" WHERE "menu_bloc_memberships"."menu_bloc_id" = $1 ORDER BY "menus"."id" ASC LIMIT $2[0m  [["menu_bloc_id", 6], ["LIMIT", 1]]
  [1m[36mOption Load (0.5ms)[0m  [1m[34mSELECT "options".* FROM "options" WHERE "options"."menu_id" = $1[0m  [["menu_id", 3]]
  [1m[36mMeal Load (0.3ms)[0m  [1m[34mSELECT "meals".* FROM "meals" WHERE "meals"."id" IN (5, 6)[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 853ms (ActiveRecord: 25.8ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:33:15 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (2.5ms)
  Rendered application/_flashes.html.erb (0.6ms)
  Rendered application/_analytics.html.erb (0.5ms)
  Rendered application/_javascript.html.erb (17.9ms)
  Rendered application/_css_overrides.html.erb (0.4ms)
  Rendered layouts/application.html.erb (42.5ms)
Completed 200 OK in 49ms (Views: 47.1ms | ActiveRecord: 0.3ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:33:58 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c2vbFX81A1qdJauzr03ei66/Byi5J+rCeOb4uuczp4P+edB+UMiRhHBei9pYanNTrm2O8katZL95zCU1L/BSRQ==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 23:33:58 UTC], ["updated_at", 2017-08-27 23:33:58 UTC]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.2ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" IN (3, 4)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["menu_bloc_id", 7], ["created_at", 2017-08-27 23:33:58 UTC], ["updated_at", 2017-08-27 23:33:58 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["menu_bloc_id", 7], ["created_at", 2017-08-27 23:33:58 UTC], ["updated_at", 2017-08-27 23:33:58 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
  [1m[36mMenu Load (0.6ms)[0m  [1m[34mSELECT  "menus".* FROM "menus" INNER JOIN "menu_bloc_memberships" ON "menus"."id" = "menu_bloc_memberships"."menu_id" WHERE "menu_bloc_memberships"."menu_bloc_id" = $1 ORDER BY "menus"."id" ASC LIMIT $2[0m  [["menu_bloc_id", 7], ["LIMIT", 1]]
  [1m[36mOption Load (0.2ms)[0m  [1m[34mSELECT "options".* FROM "options" WHERE "options"."menu_id" = $1[0m  [["menu_id", 3]]
  [1m[36mMeal Load (0.2ms)[0m  [1m[34mSELECT "meals".* FROM "meals" WHERE "meals"."id" IN (5, 6)[0m
Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:36:25 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.6ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (34.2ms)
  Rendered application/_flashes.html.erb (0.5ms)
  Rendered application/_analytics.html.erb (0.7ms)
  Rendered application/_javascript.html.erb (38.7ms)
  Rendered application/_css_overrides.html.erb (0.6ms)
  Rendered layouts/application.html.erb (348.1ms)
Completed 200 OK in 369ms (Views: 352.0ms | ActiveRecord: 3.7ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 00:36:28 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5Jnk8kHZPbQwGNETDvpYpBchxkcLrbqFaUZgB5Kfcxhpi++ZbiSvat1j8Xr53fV8F/NPnfQnNPhobL2IWlyG3g==", "menu_block"=>{"3"=>"1", "4"=>"1", "5"=>"0"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.5ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-27 23:36:28 UTC], ["updated_at", 2017-08-27 23:36:28 UTC]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" IN (3, 4)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 3], ["menu_bloc_id", 8], ["created_at", 2017-08-27 23:36:28 UTC], ["updated_at", 2017-08-27 23:36:28 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 4], ["menu_bloc_id", 8], ["created_at", 2017-08-27 23:36:28 UTC], ["updated_at", 2017-08-27 23:36:28 UTC]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
  [1m[36mMenu Load (0.7ms)[0m  [1m[34mSELECT  "menus".* FROM "menus" INNER JOIN "menu_bloc_memberships" ON "menus"."id" = "menu_bloc_memberships"."menu_id" WHERE "menu_bloc_memberships"."menu_bloc_id" = $1 ORDER BY "menus"."id" ASC LIMIT $2[0m  [["menu_bloc_id", 8], ["LIMIT", 1]]
  [1m[36mOption Load (0.5ms)[0m  [1m[34mSELECT "options".* FROM "options" WHERE "options"."menu_id" = $1[0m  [["menu_id", 3]]
  [1m[36mMeal Load (0.3ms)[0m  [1m[34mSELECT "meals".* FROM "meals" WHERE "meals"."id" IN (5, 6)[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 8744ms (ActiveRecord: 29.9ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-28 00:36:37 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.2ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (3.2ms)
  Rendered application/_flashes.html.erb (0.8ms)
  Rendered application/_analytics.html.erb (1.0ms)
  Rendered application/_javascript.html.erb (20.3ms)
  Rendered application/_css_overrides.html.erb (1.1ms)
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 53ms (Views: 51.2ms | ActiveRecord: 0.2ms)


Started POST "/api/message_action" for 52.90.33.223 at 2017-08-28 00:36:53 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"5\"}]}],\"callback_id\":\"menu_3_bloc_8\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503877013.561406\",\"message_ts\":\"1503876996.000062\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please make your choice...\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_3_bloc_8\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Friday, August 25\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Sausages - with crusty rolls and onions and gravy\",\"value\":\"5\"},{\"text\":\"Soup - with crusty rolls\",\"value\":\"6\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503876996.000062\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/233496836951\\/LMbgYenVJaNqZxEPufSi8oBC\",\"trigger_id\":\"233496836967.231983340082.a85a7a4b0e32481cb688930ddde0f53d\"}"}
Can't verify CSRF token authenticity.
Completed 200 OK in 36492ms (ActiveRecord: 0.0ms)


Started POST "/api/message_action" for 54.161.187.202 at 2017-08-28 00:38:25 +0100
Cannot render console from 54.161.187.202! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"6\"}]}],\"callback_id\":\"menu_3_bloc_8\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503877105.562888\",\"message_ts\":\"1503876996.000062\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please make your choice...\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_3_bloc_8\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Friday, August 25\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Sausages - with crusty rolls and onions and gravy\",\"value\":\"5\"},{\"text\":\"Soup - with crusty rolls\",\"value\":\"6\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503876996.000062\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/233497070135\\/lEaHF6oQMQAMwbWLsavN2DIj\",\"trigger_id\":\"232329699299.231983340082.6dd59add158075a5ffab64d1b0228eac\"}"}
Can't verify CSRF token authenticity.
Completed 200 OK in 1ms (ActiveRecord: 0.0ms)


Started POST "/api/message_action" for 52.90.146.42 at 2017-08-28 00:45:18 +0100
Cannot render console from 52.90.146.42! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"6\"}]}],\"callback_id\":\"menu_3_bloc_8\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503877518.369055\",\"message_ts\":\"1503876996.000062\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please make your choice...\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_3_bloc_8\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Friday, August 25\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Sausages - with crusty rolls and onions and gravy\",\"value\":\"5\"},{\"text\":\"Soup - with crusty rolls\",\"value\":\"6\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503876996.000062\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/233296644614\\/hTq5eJXjXgKEG1QQxwmyoI11\",\"trigger_id\":\"233296644678.231983340082.5d37977b77d5335d4504177dec133c7f\"}"}
Can't verify CSRF token authenticity.
[ActiveJob]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob]   [1m[35mSQL (19.0ms)[0m  [1m[32mINSERT INTO "delayed_jobs" ("handler", "run_at", "queue", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["handler", "--- !ruby/object:ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper\njob_data:\n  job_class: MessageReceivedJob\n  job_id: 68fbd714-669f-407c-82ca-5f45c444fcaf\n  queue_name: default\n  priority: \n  arguments:\n  - actions:\n    - name: Monday\n      type: select\n      selected_options:\n      - value: '6'\n        _aj_symbol_keys: []\n      _aj_symbol_keys: []\n    callback_id: menu_3_bloc_8\n    team:\n      id: T6TUXA02E\n      domain: lunch-test\n      _aj_symbol_keys: []\n    channel:\n      id: D6U3H0F61\n      name: directmessage\n      _aj_symbol_keys: []\n    user:\n      id: U6TSQ8803\n      name: ollie_hm\n      _aj_symbol_keys: []\n    action_ts: '1503877518.369055'\n    message_ts: '1503876996.000062'\n    attachment_id: '1'\n    token: X6xP10utWWRJjlxnUV8JfTAh\n    is_app_unfurl: false\n    original_message:\n      text: Please make your choice...\n      username: Lunch\n      bot_id: B6V2QK91V\n      attachments:\n      - callback_id: menu_3_bloc_8\n        text: Choose your meals\n        id: 1\n        color: 3AA3E3\n        actions:\n        - id: '1'\n          name: Monday\n          text: Pick your meal for Friday, August 25\n          type: select\n          data_source: static\n          options:\n          - text: Sausages - with crusty rolls and onions and gravy\n            value: '5'\n            _aj_symbol_keys: []\n          - text: Soup - with crusty rolls\n            value: '6'\n            _aj_symbol_keys: []\n          _aj_symbol_keys: []\n        fallback: Choose your meals\n        _aj_symbol_keys: []\n      type: message\n      subtype: bot_message\n      ts: '1503876996.000062'\n      _aj_symbol_keys: []\n    response_url: https://hooks.slack.com/actions/T6TUXA02E/233296644614/hTq5eJXjXgKEG1QQxwmyoI11\n    trigger_id: 233296644678.231983340082.5d37977b77d5335d4504177dec133c7f\n    _aj_symbol_keys: []\n  locale: en\n"], ["run_at", 2017-08-27 23:45:18 UTC], ["queue", "default"], ["created_at", 2017-08-27 23:45:18 UTC], ["updated_at", 2017-08-27 23:45:18 UTC]]
[ActiveJob]   [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] Enqueued MessageReceivedJob (Job ID: 68fbd714-669f-407c-82ca-5f45c444fcaf) to DelayedJob(default) with arguments: {"actions"=>[{"name"=>"Monday", "type"=>"select", "selected_options"=>[{"value"=>"6"}]}], "callback_id"=>"menu_3_bloc_8", "team"=>{"id"=>"T6TUXA02E", "domain"=>"lunch-test"}, "channel"=>{"id"=>"D6U3H0F61", "name"=>"directmessage"}, "user"=>{"id"=>"U6TSQ8803", "name"=>"ollie_hm"}, "action_ts"=>"1503877518.369055", "message_ts"=>"1503876996.000062", "attachment_id"=>"1", "token"=>"X6xP10utWWRJjlxnUV8JfTAh", "is_app_unfurl"=>false, "original_message"=>{"text"=>"Please make your choice...", "username"=>"Lunch", "bot_id"=>"B6V2QK91V", "attachments"=>[{"callback_id"=>"menu_3_bloc_8", "text"=>"Choose your meals", "id"=>1, "color"=>"3AA3E3", "actions"=>[{"id"=>"1", "name"=>"Monday", "text"=>"Pick your meal for Friday, August 25", "type"=>"select", "data_source"=>"static", "options"=>[{"text"=>"Sausages - with crusty rolls and onions and gravy", "value"=>"5"}, {"text"=>"Soup - with crusty rolls", "value"=>"6"}]}], "fallback"=>"Choose your meals"}], "type"=>"message", "subtype"=>"bot_message", "ts"=>"1503876996.000062"}, "response_url"=>"https://hooks.slack.com/actions/T6TUXA02E/233296644614/hTq5eJXjXgKEG1QQxwmyoI11", "trigger_id"=>"233296644678.231983340082.5d37977b77d5335d4504177dec133c7f"}
Completed 200 OK in 141ms (ActiveRecord: 26.6ms)


Started POST "/api/message_action" for 52.90.146.42 at 2017-08-28 00:58:53 +0100
Cannot render console from 52.90.146.42! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"6\"}]}],\"callback_id\":\"menu_3_bloc_8\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503878333.764369\",\"message_ts\":\"1503876996.000062\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please make your choice...\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_3_bloc_8\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Friday, August 25\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Sausages - with crusty rolls and onions and gravy\",\"value\":\"5\"},{\"text\":\"Soup - with crusty rolls\",\"value\":\"6\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503876996.000062\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/233499907031\\/VyZMxH72a8kWB8FVZb166BBR\",\"trigger_id\":\"233499907047.231983340082.5cec0f89f5f3928577a9ba9674ddcf2b\"}"}
Can't verify CSRF token authenticity.
[ActiveJob]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob]   [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "delayed_jobs" ("handler", "run_at", "queue", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["handler", "--- !ruby/object:ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper\njob_data:\n  job_class: MessageReceivedJob\n  job_id: 3209939a-52da-4e19-959c-ca39a3b916b4\n  queue_name: default\n  priority: \n  arguments:\n  - actions:\n    - name: Monday\n      type: select\n      selected_options:\n      - value: '6'\n        _aj_symbol_keys: []\n      _aj_symbol_keys: []\n    callback_id: menu_3_bloc_8\n    team:\n      id: T6TUXA02E\n      domain: lunch-test\n      _aj_symbol_keys: []\n    channel:\n      id: D6U3H0F61\n      name: directmessage\n      _aj_symbol_keys: []\n    user:\n      id: U6TSQ8803\n      name: ollie_hm\n      _aj_symbol_keys: []\n    action_ts: '1503878333.764369'\n    message_ts: '1503876996.000062'\n    attachment_id: '1'\n    token: X6xP10utWWRJjlxnUV8JfTAh\n    is_app_unfurl: false\n    original_message:\n      text: Please make your choice...\n      username: Lunch\n      bot_id: B6V2QK91V\n      attachments:\n      - callback_id: menu_3_bloc_8\n        text: Choose your meals\n        id: 1\n        color: 3AA3E3\n        actions:\n        - id: '1'\n          name: Monday\n          text: Pick your meal for Friday, August 25\n          type: select\n          data_source: static\n          options:\n          - text: Sausages - with crusty rolls and onions and gravy\n            value: '5'\n            _aj_symbol_keys: []\n          - text: Soup - with crusty rolls\n            value: '6'\n            _aj_symbol_keys: []\n          _aj_symbol_keys: []\n        fallback: Choose your meals\n        _aj_symbol_keys: []\n      type: message\n      subtype: bot_message\n      ts: '1503876996.000062'\n      _aj_symbol_keys: []\n    response_url: https://hooks.slack.com/actions/T6TUXA02E/233499907031/VyZMxH72a8kWB8FVZb166BBR\n    trigger_id: 233499907047.231983340082.5cec0f89f5f3928577a9ba9674ddcf2b\n    _aj_symbol_keys: []\n  locale: en\n"], ["run_at", 2017-08-27 23:58:53 UTC], ["queue", "default"], ["created_at", 2017-08-27 23:58:53 UTC], ["updated_at", 2017-08-27 23:58:53 UTC]]
[ActiveJob]   [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] Enqueued MessageReceivedJob (Job ID: 3209939a-52da-4e19-959c-ca39a3b916b4) to DelayedJob(default) with arguments: {"actions"=>[{"name"=>"Monday", "type"=>"select", "selected_options"=>[{"value"=>"6"}]}], "callback_id"=>"menu_3_bloc_8", "team"=>{"id"=>"T6TUXA02E", "domain"=>"lunch-test"}, "channel"=>{"id"=>"D6U3H0F61", "name"=>"directmessage"}, "user"=>{"id"=>"U6TSQ8803", "name"=>"ollie_hm"}, "action_ts"=>"1503878333.764369", "message_ts"=>"1503876996.000062", "attachment_id"=>"1", "token"=>"X6xP10utWWRJjlxnUV8JfTAh", "is_app_unfurl"=>false, "original_message"=>{"text"=>"Please make your choice...", "username"=>"Lunch", "bot_id"=>"B6V2QK91V", "attachments"=>[{"callback_id"=>"menu_3_bloc_8", "text"=>"Choose your meals", "id"=>1, "color"=>"3AA3E3", "actions"=>[{"id"=>"1", "name"=>"Monday", "text"=>"Pick your meal for Friday, August 25", "type"=>"select", "data_source"=>"static", "options"=>[{"text"=>"Sausages - with crusty rolls and onions and gravy", "value"=>"5"}, {"text"=>"Soup - with crusty rolls", "value"=>"6"}]}], "fallback"=>"Choose your meals"}], "type"=>"message", "subtype"=>"bot_message", "ts"=>"1503876996.000062"}, "response_url"=>"https://hooks.slack.com/actions/T6TUXA02E/233499907031/VyZMxH72a8kWB8FVZb166BBR", "trigger_id"=>"233499907047.231983340082.5cec0f89f5f3928577a9ba9674ddcf2b"}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 6.4ms)


  
ActionView::MissingTemplate (Missing template api/v1/message_actions/Thankyou, api/v1/api_base/Thankyou, application/Thankyou with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}. Searched in:
  * "/Users/Ollie/Documents/lunch/app/views"
):
  
app/controllers/api/v1/message_actions_controller.rb:5:in `create'
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (68.1ms)
  Rendered /Users/Ollie/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/layout.erb (71.0ms)
Started POST "/api/message_action" for 54.161.187.202 at 2017-08-28 00:59:15 +0100
Cannot render console from 54.161.187.202! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"5\"}]}],\"callback_id\":\"menu_3_bloc_8\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503878354.885692\",\"message_ts\":\"1503876996.000062\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please make your choice...\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_3_bloc_8\",\"text\":\"Choose your meals\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Pick your meal for Friday, August 25\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Sausages - with crusty rolls and onions and gravy\",\"value\":\"5\"},{\"text\":\"Soup - with crusty rolls\",\"value\":\"6\"}]}],\"fallback\":\"Choose your meals\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503876996.000062\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/233298610102\\/OWhLOwHjvy2heZuI8Kbp1BWQ\",\"trigger_id\":\"233298610150.231983340082.890c5acb7a865ec14cda8a768d50a31b\"}"}
Can't verify CSRF token authenticity.
[ActiveJob]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob]   [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "delayed_jobs" ("handler", "run_at", "queue", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["handler", "--- !ruby/object:ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper\njob_data:\n  job_class: MessageReceivedJob\n  job_id: c7a7ac70-bc5e-41cc-8014-9c2d58d71c9f\n  queue_name: default\n  priority: \n  arguments:\n  - actions:\n    - name: Monday\n      type: select\n      selected_options:\n      - value: '5'\n        _aj_symbol_keys: []\n      _aj_symbol_keys: []\n    callback_id: menu_3_bloc_8\n    team:\n      id: T6TUXA02E\n      domain: lunch-test\n      _aj_symbol_keys: []\n    channel:\n      id: D6U3H0F61\n      name: directmessage\n      _aj_symbol_keys: []\n    user:\n      id: U6TSQ8803\n      name: ollie_hm\n      _aj_symbol_keys: []\n    action_ts: '1503878354.885692'\n    message_ts: '1503876996.000062'\n    attachment_id: '1'\n    token: X6xP10utWWRJjlxnUV8JfTAh\n    is_app_unfurl: false\n    original_message:\n      text: Please make your choice...\n      username: Lunch\n      bot_id: B6V2QK91V\n      attachments:\n      - callback_id: menu_3_bloc_8\n        text: Choose your meals\n        id: 1\n        color: 3AA3E3\n        actions:\n        - id: '1'\n          name: Monday\n          text: Pick your meal for Friday, August 25\n          type: select\n          data_source: static\n          options:\n          - text: Sausages - with crusty rolls and onions and gravy\n            value: '5'\n            _aj_symbol_keys: []\n          - text: Soup - with crusty rolls\n            value: '6'\n            _aj_symbol_keys: []\n          _aj_symbol_keys: []\n        fallback: Choose your meals\n        _aj_symbol_keys: []\n      type: message\n      subtype: bot_message\n      ts: '1503876996.000062'\n      _aj_symbol_keys: []\n    response_url: https://hooks.slack.com/actions/T6TUXA02E/233298610102/OWhLOwHjvy2heZuI8Kbp1BWQ\n    trigger_id: 233298610150.231983340082.890c5acb7a865ec14cda8a768d50a31b\n    _aj_symbol_keys: []\n  locale: en\n"], ["run_at", 2017-08-27 23:59:15 UTC], ["queue", "default"], ["created_at", 2017-08-27 23:59:15 UTC], ["updated_at", 2017-08-27 23:59:15 UTC]]
[ActiveJob]   [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] Enqueued MessageReceivedJob (Job ID: c7a7ac70-bc5e-41cc-8014-9c2d58d71c9f) to DelayedJob(default) with arguments: {"actions"=>[{"name"=>"Monday", "type"=>"select", "selected_options"=>[{"value"=>"5"}]}], "callback_id"=>"menu_3_bloc_8", "team"=>{"id"=>"T6TUXA02E", "domain"=>"lunch-test"}, "channel"=>{"id"=>"D6U3H0F61", "name"=>"directmessage"}, "user"=>{"id"=>"U6TSQ8803", "name"=>"ollie_hm"}, "action_ts"=>"1503878354.885692", "message_ts"=>"1503876996.000062", "attachment_id"=>"1", "token"=>"X6xP10utWWRJjlxnUV8JfTAh", "is_app_unfurl"=>false, "original_message"=>{"text"=>"Please make your choice...", "username"=>"Lunch", "bot_id"=>"B6V2QK91V", "attachments"=>[{"callback_id"=>"menu_3_bloc_8", "text"=>"Choose your meals", "id"=>1, "color"=>"3AA3E3", "actions"=>[{"id"=>"1", "name"=>"Monday", "text"=>"Pick your meal for Friday, August 25", "type"=>"select", "data_source"=>"static", "options"=>[{"text"=>"Sausages - with crusty rolls and onions and gravy", "value"=>"5"}, {"text"=>"Soup - with crusty rolls", "value"=>"6"}]}], "fallback"=>"Choose your meals"}], "type"=>"message", "subtype"=>"bot_message", "ts"=>"1503876996.000062"}, "response_url"=>"https://hooks.slack.com/actions/T6TUXA02E/233298610102/OWhLOwHjvy2heZuI8Kbp1BWQ", "trigger_id"=>"233298610150.231983340082.890c5acb7a865ec14cda8a768d50a31b"}
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 7.1ms)


Started POST "/menu_blocs" for 127.0.0.1 at 2017-08-28 01:01:13 +0100
Processing by MenuBlocsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cD6zRfmM/LdjBbjUxqx9Lapi7+TQRRzPsl+ZhB2J5Xz9LLgu1nFuaY5+mL0xi9D1qrBmPi/PkrKzdUQL1UoQug==", "menu_block"=>{"3"=>"0", "4"=>"0", "5"=>"1"}, "commit"=>"Send out menus"}
  [1m[36mSlackTeam Load (0.2ms)[0m  [1m[34mSELECT  "slack_teams".* FROM "slack_teams" ORDER BY "slack_teams"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Method length is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.2/classes/ActionController/Parameters.html (called from extract_menus_to_group at /Users/Ollie/Documents/lunch/app/services/menu_bloc_builder.rb:15)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "menu_blocs" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", 2017-08-28 00:01:13 UTC], ["updated_at", 2017-08-28 00:01:13 UTC]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mMenu Load (0.5ms)[0m  [1m[34mSELECT "menus".* FROM "menus" WHERE "menus"."id" = 5[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "menu_bloc_memberships" ("menu_id", "menu_bloc_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["menu_id", 5], ["menu_bloc_id", 9], ["created_at", 2017-08-28 00:01:13 UTC], ["updated_at", 2017-08-28 00:01:13 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "U6TSQ8803"], ["name", "ollie_hm"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."slack_id" = $1 AND "users"."name" = $2 LIMIT $3[0m  [["slack_id", "USLACKBOT"], ["name", "slackbot"], ["LIMIT", 1]]
  [1m[36mMenu Load (0.4ms)[0m  [1m[34mSELECT  "menus".* FROM "menus" INNER JOIN "menu_bloc_memberships" ON "menus"."id" = "menu_bloc_memberships"."menu_id" WHERE "menu_bloc_memberships"."menu_bloc_id" = $1 ORDER BY "menus"."id" ASC LIMIT $2[0m  [["menu_bloc_id", 9], ["LIMIT", 1]]
  [1m[36mOption Load (0.5ms)[0m  [1m[34mSELECT "options".* FROM "options" WHERE "options"."menu_id" = $1[0m  [["menu_id", 5]]
  [1m[36mMeal Load (0.2ms)[0m  [1m[34mSELECT "meals".* FROM "meals" WHERE "meals"."id" IN (10, 11, 12)[0m
Redirected to http://lunch.dev/menus
Completed 302 Found in 867ms (ActiveRecord: 26.5ms)


Started GET "/menus" for 127.0.0.1 at 2017-08-28 01:01:14 +0100
Processing by MenusController#index as HTML
  Rendering layouts/application.html.erb
  Rendering menus/index.html.erb within layouts/application
  [1m[36mMenu Load (0.3ms)[0m  [1m[34mSELECT "menus".* FROM "menus"[0m
  Rendered menus/index.html.erb within layouts/application (2.7ms)
  Rendered application/_flashes.html.erb (1.1ms)
  Rendered application/_analytics.html.erb (0.4ms)
  Rendered application/_javascript.html.erb (23.1ms)
  Rendered application/_css_overrides.html.erb (0.3ms)
  Rendered layouts/application.html.erb (51.7ms)
Completed 200 OK in 57ms (Views: 55.5ms | ActiveRecord: 0.3ms)


Started POST "/api/message_action" for 52.90.33.223 at 2017-08-28 01:01:20 +0100
Cannot render console from 52.90.33.223! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by Api::V1::MessageActionsController#create as HTML
  Parameters: {"payload"=>"{\"actions\":[{\"name\":\"Monday\",\"type\":\"select\",\"selected_options\":[{\"value\":\"12\"}]}],\"callback_id\":\"menu_5_bloc_9\",\"team\":{\"id\":\"T6TUXA02E\",\"domain\":\"lunch-test\"},\"channel\":{\"id\":\"D6U3H0F61\",\"name\":\"directmessage\"},\"user\":{\"id\":\"U6TSQ8803\",\"name\":\"ollie_hm\"},\"action_ts\":\"1503878479.857151\",\"message_ts\":\"1503878473.000061\",\"attachment_id\":\"1\",\"token\":\"X6xP10utWWRJjlxnUV8JfTAh\",\"is_app_unfurl\":false,\"original_message\":{\"text\":\"Please make your choice...\",\"username\":\"Lunch\",\"bot_id\":\"B6V2QK91V\",\"attachments\":[{\"callback_id\":\"menu_5_bloc_9\",\"text\":\"Please choose your meal for Sunday, August 27\",\"id\":1,\"color\":\"3AA3E3\",\"actions\":[{\"id\":\"1\",\"name\":\"Monday\",\"text\":\"Sunday, August 27\",\"type\":\"select\",\"data_source\":\"static\",\"options\":[{\"text\":\"Pie - With gravy\",\"value\":\"10\"},{\"text\":\"Fish - and chips\",\"value\":\"11\"},{\"text\":\"Bean on toast -\",\"value\":\"12\"}]}],\"fallback\":\"Please choose your meal for Sunday, August 27\"}],\"type\":\"message\",\"subtype\":\"bot_message\",\"ts\":\"1503878473.000061\"},\"response_url\":\"https:\\/\\/hooks.slack.com\\/actions\\/T6TUXA02E\\/231757963344\\/0VpsUn7IiyEFRvmBzRK4NgxT\",\"trigger_id\":\"231757963376.231983340082.a6e73a0525b2378baf1d7165125cb32e\"}"}
Can't verify CSRF token authenticity.
[ActiveJob]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "delayed_jobs" ("handler", "run_at", "queue", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["handler", "--- !ruby/object:ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper\njob_data:\n  job_class: MessageReceivedJob\n  job_id: 56a7395e-071f-4147-8ff8-755394ccf2ea\n  queue_name: default\n  priority: \n  arguments:\n  - actions:\n    - name: Monday\n      type: select\n      selected_options:\n      - value: '12'\n        _aj_symbol_keys: []\n      _aj_symbol_keys: []\n    callback_id: menu_5_bloc_9\n    team:\n      id: T6TUXA02E\n      domain: lunch-test\n      _aj_symbol_keys: []\n    channel:\n      id: D6U3H0F61\n      name: directmessage\n      _aj_symbol_keys: []\n    user:\n      id: U6TSQ8803\n      name: ollie_hm\n      _aj_symbol_keys: []\n    action_ts: '1503878479.857151'\n    message_ts: '1503878473.000061'\n    attachment_id: '1'\n    token: X6xP10utWWRJjlxnUV8JfTAh\n    is_app_unfurl: false\n    original_message:\n      text: Please make your choice...\n      username: Lunch\n      bot_id: B6V2QK91V\n      attachments:\n      - callback_id: menu_5_bloc_9\n        text: Please choose your meal for Sunday, August 27\n        id: 1\n        color: 3AA3E3\n        actions:\n        - id: '1'\n          name: Monday\n          text: Sunday, August 27\n          type: select\n          data_source: static\n          options:\n          - text: Pie - With gravy\n            value: '10'\n            _aj_symbol_keys: []\n          - text: Fish - and chips\n            value: '11'\n            _aj_symbol_keys: []\n          - text: Bean on toast -\n            value: '12'\n            _aj_symbol_keys: []\n          _aj_symbol_keys: []\n        fallback: Please choose your meal for Sunday, August 27\n        _aj_symbol_keys: []\n      type: message\n      subtype: bot_message\n      ts: '1503878473.000061'\n      _aj_symbol_keys: []\n    response_url: https://hooks.slack.com/actions/T6TUXA02E/231757963344/0VpsUn7IiyEFRvmBzRK4NgxT\n    trigger_id: 231757963376.231983340082.a6e73a0525b2378baf1d7165125cb32e\n    _aj_symbol_keys: []\n  locale: en\n"], ["run_at", 2017-08-28 00:01:20 UTC], ["queue", "default"], ["created_at", 2017-08-28 00:01:20 UTC], ["updated_at", 2017-08-28 00:01:20 UTC]]
[ActiveJob]   [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] Enqueued MessageReceivedJob (Job ID: 56a7395e-071f-4147-8ff8-755394ccf2ea) to DelayedJob(default) with arguments: {"actions"=>[{"name"=>"Monday", "type"=>"select", "selected_options"=>[{"value"=>"12"}]}], "callback_id"=>"menu_5_bloc_9", "team"=>{"id"=>"T6TUXA02E", "domain"=>"lunch-test"}, "channel"=>{"id"=>"D6U3H0F61", "name"=>"directmessage"}, "user"=>{"id"=>"U6TSQ8803", "name"=>"ollie_hm"}, "action_ts"=>"1503878479.857151", "message_ts"=>"1503878473.000061", "attachment_id"=>"1", "token"=>"X6xP10utWWRJjlxnUV8JfTAh", "is_app_unfurl"=>false, "original_message"=>{"text"=>"Please make your choice...", "username"=>"Lunch", "bot_id"=>"B6V2QK91V", "attachments"=>[{"callback_id"=>"menu_5_bloc_9", "text"=>"Please choose your meal for Sunday, August 27", "id"=>1, "color"=>"3AA3E3", "actions"=>[{"id"=>"1", "name"=>"Monday", "text"=>"Sunday, August 27", "type"=>"select", "data_source"=>"static", "options"=>[{"text"=>"Pie - With gravy", "value"=>"10"}, {"text"=>"Fish - and chips", "value"=>"11"}, {"text"=>"Bean on toast -", "value"=>"12"}]}], "fallback"=>"Please choose your meal for Sunday, August 27"}], "type"=>"message", "subtype"=>"bot_message", "ts"=>"1503878473.000061"}, "response_url"=>"https://hooks.slack.com/actions/T6TUXA02E/231757963344/0VpsUn7IiyEFRvmBzRK4NgxT", "trigger_id"=>"231757963376.231983340082.a6e73a0525b2378baf1d7165125cb32e"}
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 6.7ms)


